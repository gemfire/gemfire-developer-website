<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>LuceneService (VMware GemFire Search 1.1.1)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LuceneService (VMware GemFire Search 1.1.1)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.geode.cache.lucene</a></div>
<h2 title="Interface LuceneService" class="title">Interface LuceneService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public interface <span class="typeNameLabel">LuceneService</span></pre>
<div class="block">The LuceneService provides the capability to create Lucene indexes and execute lucene queries on
 data stored in Geode regions. The Lucene indexes are automatically maintained by Geode whenever
 entries are updated in the associated regions.

 <p>
 To obtain an instance of LuceneService, use
 <a href="LuceneServiceProvider.html#get(org.apache.geode.cache.GemFireCache)"><code>LuceneServiceProvider.get(GemFireCache cache)</code></a>.
 <p>
 Lucene indexes can be created using gfsh, xml, or the java API. Below is an example of creating a
 Lucene index with the java API. The Lucene index should be created on each member that has the
 region that is being indexed.

 <pre>
 {
   &#64;code
       luceneService.createIndexFactory()
        .addField("name")
        .addField("zipcode")
        .addField("email", new KeywordAnalyzer())
        .create(indexName, regionName);
 }
 </pre>
 <p>
 You can also specify what <code>Analyzer</code> to use for each field. In the example above, email is
 being tokenized with the KeywordAnalyzer so it is treated as a single word. The default analyzer
 if none is specified is the <code>StandardAnalyzer</code>.
 <p>


 Indexes should be created on all peers that host the region being indexed. Clients do not need to
 define the index, they can directly execute queries using this service.

 <p>
 Queries on this service can return either the region keys, values, or both that match a Lucene
 query expression. To execute a query, start with the <a href="#createLuceneQueryFactory()"><code>createLuceneQueryFactory()</code></a> method.

 <pre>
 {
   &#64;code
   LuceneQuery query = luceneService.createLuceneQueryFactory().setLimit(200).create(indexName,
       regionName, "name:John AND zipcode:97006", defaultField);
   Collection results = query.findValues();
 }
 </pre>

 <p>
 The Lucene index data is colocated with the region that is indexed. This means that the index
 data will be partitioned, copied, or persisted using the same configuration options you provide
 for the region that is indexed. Queries will automatically be distributed in parallel to cover
 all partitions of a partitioned region.
 <p>
 Indexes are maintained asynchronously, so changes to regions may not be immediately reflected in
 the index. This means that queries executed using this service may return stale results. Use the
 <a href="#waitUntilFlushed(java.lang.String,java.lang.String,long,java.util.concurrent.TimeUnit)"><code>waitUntilFlushed(String, String, long, TimeUnit)</code></a> method if you need to wait for your
 changes to be indexed before executing a query, however this method should be used sparingly
 because it is an expensive operation.
 <p>
 Currently, only partitioned regions are supported. Creating an index on a region with
 <code>DataPolicy.REPLICATE</code> will fail.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#REGION_VALUE_FIELD">REGION_VALUE_FIELD</a></span></code></th>
<td class="colLast">
<div class="block">A special field name that indicates that the entire region value should be indexed.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="LuceneIndexFactory.html" title="interface in org.apache.geode.cache.lucene">LuceneIndexFactory</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createIndexFactory()">createIndexFactory</a></span>()</code></th>
<td class="colLast">
<div class="block">Get a factory for creating a Lucene index on this member.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="LuceneQueryFactory.html" title="interface in org.apache.geode.cache.lucene">LuceneQueryFactory</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createLuceneQueryFactory()">createLuceneQueryFactory</a></span>()</code></th>
<td class="colLast">
<div class="block">Create a factory for building a Lucene query.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#destroyIndex(java.lang.String,java.lang.String)">destroyIndex</a></span>&#8203;(java.lang.String&nbsp;indexName,
            java.lang.String&nbsp;regionPath)</code></th>
<td class="colLast">
<div class="block">Destroy the Lucene index</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#destroyIndexes(java.lang.String)">destroyIndexes</a></span>&#8203;(java.lang.String&nbsp;regionPath)</code></th>
<td class="colLast">
<div class="block">Destroy all the Lucene indexes for the region</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="LuceneIndex.html" title="interface in org.apache.geode.cache.lucene">LuceneIndex</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAllIndexes()">getAllIndexes</a></span>()</code></th>
<td class="colLast">
<div class="block">get all the Lucene indexes.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>org.apache.geode.cache.Cache</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCache()">getCache</a></span>()</code></th>
<td class="colLast">
<div class="block">returns the cache to which the LuceneService belongs</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="LuceneIndex.html" title="interface in org.apache.geode.cache.lucene">LuceneIndex</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getIndex(java.lang.String,java.lang.String)">getIndex</a></span>&#8203;(java.lang.String&nbsp;indexName,
        java.lang.String&nbsp;regionPath)</code></th>
<td class="colLast">
<div class="block">Get the Lucene index object specified by region name and index name</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isIndexingInProgress(java.lang.String,java.lang.String)">isIndexingInProgress</a></span>&#8203;(java.lang.String&nbsp;indexName,
                    java.lang.String&nbsp;regionPath)</code></th>
<td class="colLast">
<div class="block">Returns if the indexing process is in progress

 Before executing a lucene query, it can be checked if the indexing operation is in progress.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitUntilFlushed(java.lang.String,java.lang.String,long,java.util.concurrent.TimeUnit)">waitUntilFlushed</a></span>&#8203;(java.lang.String&nbsp;indexName,
                java.lang.String&nbsp;regionPath,
                long&nbsp;timeout,
                java.util.concurrent.TimeUnit&nbsp;unit)</code></th>
<td class="colLast">
<div class="block">Wait until the current entries in cache are indexed.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="REGION_VALUE_FIELD">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>REGION_VALUE_FIELD</h4>
<pre>static final&nbsp;java.lang.String REGION_VALUE_FIELD</pre>
<div class="block">A special field name that indicates that the entire region value should be indexed. This will
 only work if the region value is a String or Number, in which case a Lucene document will be
 created with a single field with this name.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.geode.cache.lucene.LuceneService.REGION_VALUE_FIELD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="createIndexFactory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createIndexFactory</h4>
<pre class="methodSignature"><a href="LuceneIndexFactory.html" title="interface in org.apache.geode.cache.lucene">LuceneIndexFactory</a>&nbsp;createIndexFactory()</pre>
<div class="block">Get a factory for creating a Lucene index on this member.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a factory for creating a Lucene index on this member</dd>
</dl>
</li>
</ul>
<a id="destroyIndex(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroyIndex</h4>
<pre class="methodSignature">void&nbsp;destroyIndex&#8203;(java.lang.String&nbsp;indexName,
                  java.lang.String&nbsp;regionPath)</pre>
<div class="block">Destroy the Lucene index</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexName</code> - the name of the index to destroy</dd>
<dd><code>regionPath</code> - the path of the region whose index to destroy</dd>
</dl>
</li>
</ul>
<a id="destroyIndexes(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroyIndexes</h4>
<pre class="methodSignature">void&nbsp;destroyIndexes&#8203;(java.lang.String&nbsp;regionPath)</pre>
<div class="block">Destroy all the Lucene indexes for the region</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>regionPath</code> - The path of the region on which to destroy the indexes</dd>
</dl>
</li>
</ul>
<a id="getIndex(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndex</h4>
<pre class="methodSignature"><a href="LuceneIndex.html" title="interface in org.apache.geode.cache.lucene">LuceneIndex</a>&nbsp;getIndex&#8203;(java.lang.String&nbsp;indexName,
                     java.lang.String&nbsp;regionPath)</pre>
<div class="block">Get the Lucene index object specified by region name and index name</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexName</code> - index name</dd>
<dd><code>regionPath</code> - region name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>LuceneIndex object</dd>
</dl>
</li>
</ul>
<a id="getAllIndexes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllIndexes</h4>
<pre class="methodSignature">java.util.Collection&lt;<a href="LuceneIndex.html" title="interface in org.apache.geode.cache.lucene">LuceneIndex</a>&gt;&nbsp;getAllIndexes()</pre>
<div class="block">get all the Lucene indexes.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all index objects in a Collection</dd>
</dl>
</li>
</ul>
<a id="createLuceneQueryFactory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createLuceneQueryFactory</h4>
<pre class="methodSignature"><a href="LuceneQueryFactory.html" title="interface in org.apache.geode.cache.lucene">LuceneQueryFactory</a>&nbsp;createLuceneQueryFactory()</pre>
<div class="block">Create a factory for building a Lucene query.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a factory for building a Lucene query</dd>
</dl>
</li>
</ul>
<a id="getCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCache</h4>
<pre class="methodSignature">org.apache.geode.cache.Cache&nbsp;getCache()</pre>
<div class="block">returns the cache to which the LuceneService belongs</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the cache to which the LuceneService belongs</dd>
</dl>
</li>
</ul>
<a id="waitUntilFlushed(java.lang.String,java.lang.String,long,java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitUntilFlushed</h4>
<pre class="methodSignature">boolean&nbsp;waitUntilFlushed&#8203;(java.lang.String&nbsp;indexName,
                         java.lang.String&nbsp;regionPath,
                         long&nbsp;timeout,
                         java.util.concurrent.TimeUnit&nbsp;unit)
                  throws java.lang.InterruptedException</pre>
<div class="block">Wait until the current entries in cache are indexed.

 Lucene indexes are maintained asynchronously. This means that updates to the region will not be
 immediately reflected in the Lucene index. This method will either timeout or wait until any
 data put into the region before this method call is flushed to the lucene index.

 This method is an expensive operation, so using it before every query is highly discouraged.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexName</code> - index name</dd>
<dd><code>regionPath</code> - region name</dd>
<dd><code>timeout</code> - max wait time</dd>
<dd><code>unit</code> - Time unit associated with the max wait time</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if entries are flushed within timeout, false if the timeout has elapsed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if the thread is interrupted</dd>
</dl>
</li>
</ul>
<a id="isIndexingInProgress(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isIndexingInProgress</h4>
<pre class="methodSignature">boolean&nbsp;isIndexingInProgress&#8203;(java.lang.String&nbsp;indexName,
                             java.lang.String&nbsp;regionPath)</pre>
<div class="block">Returns if the indexing process is in progress

 Before executing a lucene query, it can be checked if the indexing operation is in progress.
 Queries executed during the indexing process will get a
 <code>LuceneIndexCreationInProgressException</code></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexName</code> - index name</dd>
<dd><code>regionPath</code> - region name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the indexing operation is in progress otherwise false.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
