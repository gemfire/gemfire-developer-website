<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>DistributedLockService (Tanzu GemFire 10.1.2)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DistributedLockService (Tanzu GemFire 10.1.2)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":9,"i2":9,"i3":9,"i4":6,"i5":9,"i6":6,"i7":6,"i8":9,"i9":6,"i10":6,"i11":38,"i12":6,"i13":6,"i14":38,"i15":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.geode.distributed</a></div>
<h2 title="Class DistributedLockService" class="title">Class DistributedLockService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.geode.distributed.DistributedLockService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public abstract class <span class="typeNameLabel">DistributedLockService</span>
extends java.lang.Object</pre>
<div class="block"><p>
 A named instance of DistributedLockService defines a space for locking arbitrary names across the
 distributed system defined by a specified distribution manager. Any number of
 DistributedLockService instances can be created with different service names. For all processes
 in the distributed system that have created an instance of DistributedLockService with the same
 name, no more than one thread is permitted to own the lock on a given name in that instance at
 any point in time. Additionally, a thread can lock the entire service, preventing any other
 threads in the system from locking the service or any names in the service.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">DistributedLockService</a></span>()</code></th>
<td class="colLast">
<div class="block">Public instance creation is prohibited - use <a href="#create(java.lang.String,org.apache.geode.distributed.DistributedSystem)"><code>create(String, DistributedSystem)</code></a></div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#becomeLockGrantor()">becomeLockGrantor</a></span>()</code></th>
<td class="colLast">
<div class="block">Specifies this member to become the grantor for this lock service.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#becomeLockGrantor(java.lang.String)">becomeLockGrantor</a></span>&#8203;(java.lang.String&nbsp;serviceName)</code></th>
<td class="colLast">
<div class="block">Specifies that this member should become the grantor for the named locking service.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="DistributedLockService.html" title="class in org.apache.geode.distributed">DistributedLockService</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#create(java.lang.String,org.apache.geode.distributed.DistributedSystem)">create</a></span>&#8203;(java.lang.String&nbsp;serviceName,
      <a href="DistributedSystem.html" title="class in org.apache.geode.distributed">DistributedSystem</a>&nbsp;ds)</code></th>
<td class="colLast">
<div class="block">Create a DistributedLockService with the given serviceName for the given DistributedSystem.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#destroy(java.lang.String)">destroy</a></span>&#8203;(java.lang.String&nbsp;serviceName)</code></th>
<td class="colLast">
<div class="block">Destroy a previously created DistributedLockService with the given <code>serviceName</code>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#freeResources(java.lang.Object)">freeResources</a></span>&#8203;(java.lang.Object&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Free internal resources associated with the given <code>name</code>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="DistributedLockService.html" title="class in org.apache.geode.distributed">DistributedLockService</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getServiceNamed(java.lang.String)">getServiceNamed</a></span>&#8203;(java.lang.String&nbsp;serviceName)</code></th>
<td class="colLast">
<div class="block">Look up and return the DistributedLockService with the given name, if it has been created in
 this VM.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isHeldByCurrentThread(java.lang.Object)">isHeldByCurrentThread</a></span>&#8203;(java.lang.Object&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Determine whether the current thread owns the lock on the given object.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isLockGrantor()">isLockGrantor</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if this member is currently the lock authority responsible for granting locks for
 this service.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isLockGrantor(java.lang.String)">isLockGrantor</a></span>&#8203;(java.lang.String&nbsp;serviceName)</code></th>
<td class="colLast">
<div class="block">Returns true if this member is the grantor for the named service.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isLockingSuspendedByCurrentThread()">isLockingSuspendedByCurrentThread</a></span>()</code></th>
<td class="colLast">
<div class="block">Determine whether the current thread has suspended locking in this DistributedLockService.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lock(java.lang.Object,long,long)">lock</a></span>&#8203;(java.lang.Object&nbsp;name,
    long&nbsp;waitTimeMillis,
    long&nbsp;leaseTimeMillis)</code></th>
<td class="colLast">
<div class="block">
 Attempts to acquire a lock named <code>name</code>.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lockInterruptibly(java.lang.Object,long,long)">lockInterruptibly</a></span>&#8203;(java.lang.Object&nbsp;name,
                 long&nbsp;waitTimeMillis,
                 long&nbsp;leaseTimeMillis)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">as of GemFire 5.1, use <a href="#lock(java.lang.Object,long,long)"><code>lock(Object, long, long)</code></a> with waitTimeMillis
             instead</div>
</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resumeLocking()">resumeLocking</a></span>()</code></th>
<td class="colLast">
<div class="block">Allow locking to resume in this DistributedLockService instance.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#suspendLocking(long)">suspendLocking</a></span>&#8203;(long&nbsp;waitTimeMillis)</code></th>
<td class="colLast">
<div class="block">Suspend granting of locks in this service.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#suspendLockingInterruptibly(long)">suspendLockingInterruptibly</a></span>&#8203;(long&nbsp;waitTimeMillis)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">as of GemFire 5.1, use <a href="#suspendLocking(long)"><code>suspendLocking(long)</code></a> with waitTimeMillis instead</div>
</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unlock(java.lang.Object)">unlock</a></span>&#8203;(java.lang.Object&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Release the lock previously granted for the given <code>name</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DistributedLockService</h4>
<pre>protected&nbsp;DistributedLockService()</pre>
<div class="block">Public instance creation is prohibited - use <a href="#create(java.lang.String,org.apache.geode.distributed.DistributedSystem)"><code>create(String, DistributedSystem)</code></a></div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="create(java.lang.String,org.apache.geode.distributed.DistributedSystem)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre class="methodSignature">public static&nbsp;<a href="DistributedLockService.html" title="class in org.apache.geode.distributed">DistributedLockService</a>&nbsp;create&#8203;(java.lang.String&nbsp;serviceName,
                                            <a href="DistributedSystem.html" title="class in org.apache.geode.distributed">DistributedSystem</a>&nbsp;ds)
                                     throws java.lang.IllegalArgumentException</pre>
<div class="block">Create a DistributedLockService with the given serviceName for the given DistributedSystem.
 This DistributedLockService will continue to manage locks until <code><a href="#destroy(java.lang.String)"><code>destroy(java.lang.String)</code></a></code>
 is called, or <code>ds</code> is disconnected, at which point any locks that were held by this
 instance are released.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>serviceName</code> - the name of the DistributedLockService to create.</dd>
<dd><code>ds</code> - the <code>DistributedSystem</code> for the new service instance to use for
        distributed lock messaging.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly created DistributedLockService</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if serviceName is an illegal name or this process has already
         created a DistributedLockService with the given <code>serviceName</code>.</dd>
<dd><code>java.lang.IllegalStateException</code> - if this process is in the middle of disconnecting from the
         <code>DistributedSystem</code></dd>
</dl>
</li>
</ul>
<a id="getServiceNamed(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceNamed</h4>
<pre class="methodSignature">public static&nbsp;<a href="DistributedLockService.html" title="class in org.apache.geode.distributed">DistributedLockService</a>&nbsp;getServiceNamed&#8203;(java.lang.String&nbsp;serviceName)</pre>
<div class="block">Look up and return the DistributedLockService with the given name, if it has been created in
 this VM. If it has not been created, return null.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>serviceName</code> - the name of the DistributedLockService to look up</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the DistributedLockService with the given name, or null if it hasn't been created in
         this VM.</dd>
</dl>
</li>
</ul>
<a id="destroy(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;destroy&#8203;(java.lang.String&nbsp;serviceName)
                    throws java.lang.IllegalArgumentException</pre>
<div class="block">Destroy a previously created DistributedLockService with the given <code>serviceName</code>.
 Any locks currently held in this DistributedLockService by this process are released. Attempts
 to access a destroyed lock service will result in a <a href="LockServiceDestroyedException.html" title="class in org.apache.geode.distributed"><code>LockServiceDestroyedException</code></a> being
 thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>serviceName</code> - the name of the instance to destroy, previously supplied in the
        <code>create(String, DistributedSystem)</code> invocation.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if this process hasn't created a DistributedLockService with
         the given <code>serviceName</code> and <code>dm</code>.</dd>
</dl>
</li>
</ul>
<a id="lock(java.lang.Object,long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre class="methodSignature">public abstract&nbsp;boolean&nbsp;lock&#8203;(java.lang.Object&nbsp;name,
                             long&nbsp;waitTimeMillis,
                             long&nbsp;leaseTimeMillis)</pre>
<div class="block"><p>
 Attempts to acquire a lock named <code>name</code>. Returns <code>true</code> as soon as the
 lock is acquired. If the lock is currently held by another thread in this or any other process
 in the distributed system, or another thread in the system has locked the entire service, this
 method keeps trying to acquire the lock for up to <code>waitTimeMillis</code> before giving up
 and returning <code>false</code>. If the lock is acquired, it is held until
 <code>unlock(Object name)</code> is invoked, or until <code>leaseTimeMillis</code> milliseconds
 have passed since the lock was granted - whichever comes first.

 <p>
 Locks are reentrant. If a thread invokes this method n times on the same instance, specifying
 the same <code>name</code>, without an intervening release or lease expiration expiration on
 the lock, the thread must invoke <code>unlock(name)</code> the same number of times before the
 lock is released (unless the lease expires). When this method is invoked for a lock that is
 already acquired, the lease time will be set to the maximum of the remaining least time from
 the previous invocation, or <code>leaseTimeMillis</code>
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name of the lock to acquire in this service. This object must conform to the
        general contract of <code>equals(Object)</code> and <code>hashCode()</code> as described
        in <code>Object.hashCode()</code>.</dd>
<dd><code>waitTimeMillis</code> - the number of milliseconds to try to acquire the lock before giving up
        and returning false. A value of -1 causes this method to block until the lock is
        acquired. A value of 0 causes this method to return false without waiting for the lock
        if the lock is held by another member or thread.</dd>
<dd><code>leaseTimeMillis</code> - the number of milliseconds to hold the lock after granting it, before
        automatically releasing it if it hasn't already been released by invoking
        <a href="#unlock(java.lang.Object)"><code>unlock(Object)</code></a>. If <code>leaseTimeMillis</code> is -1, hold the lock until
        explicitly unlocked.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock was acquired, false if the timeout <code>waitTimeMillis</code> passed
         without acquiring the lock.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="LockServiceDestroyedException.html" title="class in org.apache.geode.distributed">LockServiceDestroyedException</a></code> - if this lock service has been destroyed</dd>
</dl>
</li>
</ul>
<a id="lockInterruptibly(java.lang.Object,long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockInterruptibly</h4>
<pre class="methodSignature">@Deprecated
public abstract&nbsp;boolean&nbsp;lockInterruptibly&#8203;(java.lang.Object&nbsp;name,
                                          long&nbsp;waitTimeMillis,
                                          long&nbsp;leaseTimeMillis)
                                   throws java.lang.InterruptedException</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">as of GemFire 5.1, use <a href="#lock(java.lang.Object,long,long)"><code>lock(Object, long, long)</code></a> with waitTimeMillis
             instead</div>
</div>
<div class="block"><p>
 Attempts to acquire a lock named <code>name</code>. Returns <code>true</code> as soon as the
 lock is acquired. If the lock is currently held by another thread in this or any other process
 in the distributed system, or another thread in the system has locked the entire service, this
 method keeps trying to acquire the lock for up to <code>waitTimeMillis</code> before giving up
 and returning <code>false</code>. If the lock is acquired, it is held until
 <code>unlock(Object name)</code> is invoked, or until <code>leaseTimeMillis</code> milliseconds
 have passed since the lock was granted - whichever comes first.

 <p>
 Locks are reentrant. If a thread invokes this method n times on the same instance, specifying
 the same <code>name</code>, without an intervening release or lease expiration expiration on
 the lock, the thread must invoke <code>unlock(name)</code> the same number of times before the
 lock is released (unless the lease expires). When this method is invoked for a lock that is
 already acquired, the lease time will be set to the maximum of the remaining least time from
 the previous invocation, or <code>leaseTimeMillis</code>
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name of the lock to acquire in this service. This object must conform to the
        general contract of <code>equals(Object)</code> and <code>hashCode()</code> as described
        in <code>Object.hashCode()</code>.</dd>
<dd><code>waitTimeMillis</code> - the number of milliseconds to try to acquire the lock before giving up
        and returning false. A value of -1 causes this method to block until the lock is
        acquired.</dd>
<dd><code>leaseTimeMillis</code> - the number of milliseconds to hold the lock after granting it, before
        automatically releasing it if it hasn't already been released by invoking
        <a href="#unlock(java.lang.Object)"><code>unlock(Object)</code></a>. If <code>leaseTimeMillis</code> is -1, hold the lock until
        explicitly unlocked.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock was acquired, false if the timeout <code>waitTimeMillis</code> passed
         without acquiring the lock.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if the thread is interrupted before or during this method.</dd>
<dd><code><a href="LockServiceDestroyedException.html" title="class in org.apache.geode.distributed">LockServiceDestroyedException</a></code> - if this lock service has been destroyed</dd>
</dl>
</li>
</ul>
<a id="unlock(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;unlock&#8203;(java.lang.Object&nbsp;name)
                     throws <a href="LeaseExpiredException.html" title="class in org.apache.geode.distributed">LeaseExpiredException</a></pre>
<div class="block">Release the lock previously granted for the given <code>name</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the object to unlock in this service.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="LockNotHeldException.html" title="class in org.apache.geode.distributed">LockNotHeldException</a></code> - if the current thread is not the owner of this lock</dd>
<dd><code><a href="LeaseExpiredException.html" title="class in org.apache.geode.distributed">LeaseExpiredException</a></code> - if the current thread was the owner of this lock, but it's lease
         has expired.</dd>
<dd><code><a href="LockServiceDestroyedException.html" title="class in org.apache.geode.distributed">LockServiceDestroyedException</a></code> - if the service has been destroyed</dd>
</dl>
</li>
</ul>
<a id="isHeldByCurrentThread(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isHeldByCurrentThread</h4>
<pre class="methodSignature">public abstract&nbsp;boolean&nbsp;isHeldByCurrentThread&#8203;(java.lang.Object&nbsp;name)</pre>
<div class="block">Determine whether the current thread owns the lock on the given object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name of the lock object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the current thread owns the lock for <code>name</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="LockServiceDestroyedException.html" title="class in org.apache.geode.distributed">LockServiceDestroyedException</a></code> - if this service has been destroyed</dd>
</dl>
</li>
</ul>
<a id="suspendLockingInterruptibly(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>suspendLockingInterruptibly</h4>
<pre class="methodSignature">@Deprecated
public abstract&nbsp;boolean&nbsp;suspendLockingInterruptibly&#8203;(long&nbsp;waitTimeMillis)
                                             throws java.lang.InterruptedException</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">as of GemFire 5.1, use <a href="#suspendLocking(long)"><code>suspendLocking(long)</code></a> with waitTimeMillis instead</div>
</div>
<div class="block">Suspend granting of locks in this service. When locking has been suspended, no other thread in
 the distributed system will be granted a lock for any new or existing name in that service
 until locking is resumed by the thread that suspended it. Only one thread at a time in a
 distributed system is permitted suspend locking on a given DistributedLockService instance.
 This method blocks until lock suspension can be granted to the current thread, and all
 outstanding locks on names in this service held by other threads in the distributed system have
 been released, or until <code>waitTimeMillis</code> milliseconds have passed without
 successfully granting suspension.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>waitTimeMillis</code> - the number of milliseconds to try to acquire suspension before giving up
        and returning false. A value of -1 causes this method to block until suspension is
        granted.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if suspension was granted, false if the timeout <code>waitTimeMillis</code> passed
         before it could be granted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the current thread already has suspended locking on this
         instance.</dd>
<dd><code>java.lang.InterruptedException</code> - if the current thread is interrupted.</dd>
<dd><code><a href="LockServiceDestroyedException.html" title="class in org.apache.geode.distributed">LockServiceDestroyedException</a></code> - if the service has been destroyed</dd>
</dl>
</li>
</ul>
<a id="suspendLocking(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>suspendLocking</h4>
<pre class="methodSignature">public abstract&nbsp;boolean&nbsp;suspendLocking&#8203;(long&nbsp;waitTimeMillis)</pre>
<div class="block">Suspend granting of locks in this service. When locking has been suspended, no other thread in
 the distributed system will be granted a lock for any new or existing name in that service
 until locking is resumed by the thread that suspended it. Only one thread at a time in a
 distributed system is permitted suspend locking on a given DistributedLockService instance.
 This method blocks until lock suspension can be granted to the current thread, and all
 outstanding locks on names in this service held by other threads in the distributed system have
 been released, or until <code>waitTimeMillis</code> milliseconds have passed without
 successfully granting suspension.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>waitTimeMillis</code> - the number of milliseconds to try to acquire suspension before giving up
        and returning false. A value of -1 causes this method to block until suspension is
        granted. A value of 0 causes this method to return false without waiting for the lock if
        the lock is held by another member or thread.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if suspension was granted, false if the timeout <code>waitTimeMillis</code> passed
         before it could be granted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the current thread already has suspended locking on this
         instance</dd>
<dd><code><a href="LockServiceDestroyedException.html" title="class in org.apache.geode.distributed">LockServiceDestroyedException</a></code> - if the service has been destroyed</dd>
</dl>
</li>
</ul>
<a id="resumeLocking()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resumeLocking</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;resumeLocking()</pre>
<div class="block">Allow locking to resume in this DistributedLockService instance.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the current thread didn't previously suspend locking</dd>
<dd><code><a href="LockServiceDestroyedException.html" title="class in org.apache.geode.distributed">LockServiceDestroyedException</a></code> - if the service has been destroyed</dd>
</dl>
</li>
</ul>
<a id="isLockingSuspendedByCurrentThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLockingSuspendedByCurrentThread</h4>
<pre class="methodSignature">public abstract&nbsp;boolean&nbsp;isLockingSuspendedByCurrentThread()</pre>
<div class="block">Determine whether the current thread has suspended locking in this DistributedLockService.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if locking is suspended by the current thread.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="LockServiceDestroyedException.html" title="class in org.apache.geode.distributed">LockServiceDestroyedException</a></code> - if this service has been destroyed</dd>
</dl>
</li>
</ul>
<a id="freeResources(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeResources</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;freeResources&#8203;(java.lang.Object&nbsp;name)</pre>
<div class="block">Free internal resources associated with the given <code>name</code>. This may reduce this VM's
 memory use, but may also prohibit performance optimizations if <code>name</code> is
 subsequently locked in this VM.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name of the lock object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="LockServiceDestroyedException.html" title="class in org.apache.geode.distributed">LockServiceDestroyedException</a></code> - if this service has been destroyed</dd>
</dl>
</li>
</ul>
<a id="becomeLockGrantor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>becomeLockGrantor</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;becomeLockGrantor()</pre>
<div class="block">Specifies this member to become the grantor for this lock service. The grantor will be the lock
 authority which is responsible for handling all lock requests for this service. Other members
 will request locks from this member. Locking for this member is optimized as it will not
 require messaging to acquire a given lock.
 <p>
 Calls to this method will block until grantor authority has been transferred to this member.
 <p>
 If another member calls <code>becomeLockGrantor</code> after this member, that member will
 transfer grantor authority from this member to itself.
 <p>
 This operation should not be invoked repeatedly in an application. It is possible to create a
 lock service and have two or more members endlessly calling becomeLockGrantor to transfer
 grantorship back and forth.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="LockServiceDestroyedException.html" title="class in org.apache.geode.distributed">LockServiceDestroyedException</a></code> - if this service has been destroyed</dd>
</dl>
</li>
</ul>
<a id="becomeLockGrantor(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>becomeLockGrantor</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;becomeLockGrantor&#8203;(java.lang.String&nbsp;serviceName)
                              throws java.lang.IllegalArgumentException</pre>
<div class="block">Specifies that this member should become the grantor for the named locking service.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>serviceName</code> - the name of the locking service</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>serviceName</code> does not refer to any registered
         locking service in this process</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#becomeLockGrantor()"><code>becomeLockGrantor()</code></a></dd>
</dl>
</li>
</ul>
<a id="isLockGrantor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLockGrantor</h4>
<pre class="methodSignature">public abstract&nbsp;boolean&nbsp;isLockGrantor()</pre>
<div class="block">Returns true if this member is currently the lock authority responsible for granting locks for
 this service. This can be explicitly requested by calling
 <a href="#becomeLockGrantor()"><code>becomeLockGrantor()</code></a>. If no member
 has explicitly requested grantor authority, then one member participating in the service will
 be implicitly selected. In either case, this method returns true if the calling member is the
 grantor.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this member is the grantor for this service</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="LockServiceDestroyedException.html" title="class in org.apache.geode.distributed">LockServiceDestroyedException</a></code> - if lock service has been destroyed</dd>
</dl>
</li>
</ul>
<a id="isLockGrantor(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isLockGrantor</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;isLockGrantor&#8203;(java.lang.String&nbsp;serviceName)
                             throws java.lang.IllegalArgumentException</pre>
<div class="block">Returns true if this member is the grantor for the named service.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>serviceName</code> - the name of the locking service</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this member is the grantor for this service</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>serviceName</code> does not refer to any registered
         locking service in this process</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#isLockGrantor()"><code>isLockGrantor()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
