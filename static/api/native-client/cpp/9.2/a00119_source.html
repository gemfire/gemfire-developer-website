<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pivotal Gemfire Native C++ Reference: DataOutput.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pivotal Gemfire Native C++ Reference
   &#160;<span id="projectnumber">9.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00119_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DataOutput.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="a00119.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#ifndef GEODE_DATAOUTPUT_H_</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#define GEODE_DATAOUTPUT_H_</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Licensed to the Apache Software Foundation (ASF) under one or more</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * contributor license agreements.  See the NOTICE file distributed with</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * this work for additional information regarding copyright ownership.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * The ASF licenses this file to You under the Apache License, Version 2.0</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * (the &quot;License&quot;); you may not use this file except in compliance with</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * the License.  You may obtain a copy of the License at</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *      http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * limitations under the License.</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;geode_globals.hpp&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00137.html">ExceptionTypes.hpp</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00185.html">Log.hpp</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00272.html">Serializable.hpp</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a00053.html">CacheableString.hpp</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;cstdlib&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span><a class="code" href="a00330.html">apache</a> {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">namespace </span><a class="code" href="a00334.html">geode</a> {</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">namespace </span>client {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="a00119.html#a99e90d25e2896512359dd41658748582">   45</a></span>&#160;<span class="preprocessor">#define GF_ALLOC(v, t, s)                                                  \</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">  {                                                                        \</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">    v = (t*)malloc((s) * sizeof(t));                                       \</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">    if ((v) == NULL) {                                                     \</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">      throw OutOfMemoryException(                                          \</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">          &quot;Out of Memory while allocating buffer for &quot; #t &quot; of size &quot; #s); \</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">    }                                                                      \</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">  }</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="a00119.html#a7d375957751b0eb9005fcd08114af57c">   58</a></span>&#160;<span class="preprocessor">#define GF_RESIZE(v, t, s)                                \</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">  {                                                       \</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">    v = (t*)realloc(v, (s) * sizeof(t));                  \</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">    if ((v) == NULL) {                                    \</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">      throw OutOfMemoryException(                         \</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">          &quot;Out of Memory while resizing buffer for &quot; #t); \</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">    }                                                     \</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">  }</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#define GF_FREE(v) free(v)</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="a00589.html">   74</a></span>&#160;<span class="keyword">class </span><a class="code" href="a00152.html#a199cc6e3460196b4bc961d7984b38fa8">CPPCACHE_EXPORT</a> <a class="code" href="a00589.html">DataOutput</a> {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="a00589.html">DataOutput</a>();</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="a00589.html#ab584bfb66bc14fddfffb4282a2eafb9b">   86</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#ab584bfb66bc14fddfffb4282a2eafb9b">write</a>(uint8_t value) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    ensureCapacity(1);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    writeNoCheck(value);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="a00589.html#a545bafa6899d72fc9c08b99fd0c33896">   96</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a545bafa6899d72fc9c08b99fd0c33896">write</a>(int8_t value) { <a class="code" href="a00589.html#a545bafa6899d72fc9c08b99fd0c33896">write</a>(static_cast&lt;uint8_t&gt;(value)); }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="a00589.html#ad394efcb48c1a358a58e5741d914d58d">  103</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#ad394efcb48c1a358a58e5741d914d58d">writeBoolean</a>(<span class="keywordtype">bool</span> value) { write(static_cast&lt;uint8_t&gt;(value)); }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="a00589.html#a92779f7b388b020878a3616cdcc8896d">  111</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a92779f7b388b020878a3616cdcc8896d">writeBytes</a>(<span class="keyword">const</span> uint8_t* bytes, int32_t len) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (len &gt;= 0) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      ensureCapacity(len + 5);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      writeArrayLen(bytes == NULL ? 0 : len);  <span class="comment">// length of bytes...</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keywordflow">if</span> (len &gt; 0 &amp;&amp; bytes != NULL) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        std::memcpy(m_buf, bytes, len);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        m_buf += len;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      write(static_cast&lt;int8_t&gt;(-1));</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="a00589.html#a62d535a34e37cee85404250ac4f8b514">  130</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a62d535a34e37cee85404250ac4f8b514">writeBytes</a>(<span class="keyword">const</span> int8_t* bytes, int32_t len) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    writeBytes(reinterpret_cast&lt;const uint8_t*&gt;(bytes), len);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="a00589.html#ae19b124b45697f2e1c9c5e1ad5f1526e">  145</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#ae19b124b45697f2e1c9c5e1ad5f1526e">writeBytesOnly</a>(<span class="keyword">const</span> uint8_t* bytes, uint32_t len) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    ensureCapacity(len);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    std::memcpy(m_buf, bytes, len);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    m_buf += len;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="a00589.html#a2113ce6df05cb6c2949876faccce96dc">  162</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a2113ce6df05cb6c2949876faccce96dc">writeBytesOnly</a>(<span class="keyword">const</span> int8_t* bytes, uint32_t len) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    writeBytesOnly(reinterpret_cast&lt;const uint8_t*&gt;(bytes), len);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="a00589.html#a7f5e95a11c0fe3078fe9d0ba158ee894">  171</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a7f5e95a11c0fe3078fe9d0ba158ee894">writeInt</a>(uint16_t value) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    ensureCapacity(2);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    *(m_buf++) = static_cast&lt;uint8_t&gt;(value &gt;&gt; 8);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    *(m_buf++) = static_cast&lt;uint8_t&gt;(value);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="a00589.html#a2b283a6645b10786ad31d49b3c4e7575">  182</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a2b283a6645b10786ad31d49b3c4e7575">writeChar</a>(uint16_t value) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    ensureCapacity(2);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    *(m_buf++) = static_cast&lt;uint8_t&gt;(value &gt;&gt; 8);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    *(m_buf++) = static_cast&lt;uint8_t&gt;(value);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="a00589.html#ab313f27382acec8e32d07b5d56aee3c4">  193</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#ab313f27382acec8e32d07b5d56aee3c4">writeInt</a>(uint32_t value) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    ensureCapacity(4);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    *(m_buf++) = static_cast&lt;uint8_t&gt;(value &gt;&gt; 24);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    *(m_buf++) = static_cast&lt;uint8_t&gt;(value &gt;&gt; 16);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    *(m_buf++) = static_cast&lt;uint8_t&gt;(value &gt;&gt; 8);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    *(m_buf++) = static_cast&lt;uint8_t&gt;(value);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="a00589.html#a12f4df4f3cd0dfef9773c97890e4203e">  206</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a12f4df4f3cd0dfef9773c97890e4203e">writeInt</a>(uint64_t value) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    ensureCapacity(8);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// the defines are not reliable and can be changed by compiler options.</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// Hence using sizeof() test instead.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">//#if defined(_LP64) || ( defined(__WORDSIZE) &amp;&amp; __WORDSIZE == 64 ) ||</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">//( defined(_INTEGRAL_MAX_BITS) &amp;&amp; _INTEGRAL_MAX_BITS &gt;= 64 )</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>) == 8) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(value &gt;&gt; 56);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(value &gt;&gt; 48);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(value &gt;&gt; 40);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(value &gt;&gt; 32);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(value &gt;&gt; 24);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(value &gt;&gt; 16);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(value &gt;&gt; 8);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(value);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      uint32_t hword = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(value &gt;&gt; 32);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(hword &gt;&gt; 24);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(hword &gt;&gt; 16);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(hword &gt;&gt; 8);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(hword);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      hword = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(value);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(hword &gt;&gt; 24);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(hword &gt;&gt; 16);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(hword &gt;&gt; 8);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(hword);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="a00589.html#a276d2915b4b5ed859f6dfa7a8632db77">  241</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a276d2915b4b5ed859f6dfa7a8632db77">writeInt</a>(int16_t value) {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    writeInt(static_cast&lt;uint16_t&gt;(value));</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="a00589.html#ac8322019f5260c9b28f7c373c3e54cbd">  250</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#ac8322019f5260c9b28f7c373c3e54cbd">writeInt</a>(int32_t value) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    writeInt(static_cast&lt;uint32_t&gt;(value));</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="a00589.html#ad41c4a2ecad093aa06aead762105bc53">  259</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#ad41c4a2ecad093aa06aead762105bc53">writeInt</a>(int64_t value) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    writeInt(static_cast&lt;uint64_t&gt;(value));</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="a00589.html#a74d7360f33e3187d9582cb199099b84f">  270</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a74d7360f33e3187d9582cb199099b84f">writeArrayLen</a>(int32_t len) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (len == -1) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      write(static_cast&lt;int8_t&gt;(-1));</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (len &lt;= 252) {  <span class="comment">// 252 is java&#39;s ((byte)-4 &amp;&amp; 0xFF)</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      write(static_cast&lt;uint8_t&gt;(len));</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (len &lt;= 0xFFFF) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      write(static_cast&lt;int8_t&gt;(-2));</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      writeInt(static_cast&lt;uint16_t&gt;(len));</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      write(static_cast&lt;int8_t&gt;(-3));</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      writeInt(len);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="a00589.html#a3959bca668435c2f33eb870df34e4132">  289</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a3959bca668435c2f33eb870df34e4132">writeFloat</a>(<span class="keywordtype">float</span> value) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keyword">union </span>float_uint32_t {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="keywordtype">float</span> f;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      uint32_t u;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    } v;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    v.f = value;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    writeInt(v.u);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="a00589.html#a2b8d781f1558bf7395367e97bfd98cf0">  303</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a2b8d781f1558bf7395367e97bfd98cf0">writeDouble</a>(<span class="keywordtype">double</span> value) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keyword">union </span>double_uint64_t {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordtype">double</span> d;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      uint64_t ll;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    } v;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    v.d = value;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    writeInt(v.ll);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="a00589.html#ab047ab124cc5cb294c1caa6dfd86ff9c">  324</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#ab047ab124cc5cb294c1caa6dfd86ff9c">writeASCII</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, uint32_t length = 0) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span> (value != NULL) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">if</span> (length == 0) {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        length = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(strlen(value));</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      uint16_t len = <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(length &gt; 0xFFFF ? 0xFFFF : length);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      writeInt(len);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      writeBytesOnly((int8_t*)value, len);  <span class="comment">// K64</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      writeInt(static_cast&lt;uint16_t&gt;(0));</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> writeNativeString(<span class="keyword">const</span> <span class="keywordtype">char</span>* value) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">// create cacheable string</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">// write typeid id.</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">// call todata</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="a01085.html">CacheableStringPtr</a> csPtr = <a class="code" href="a00501.html#af8526df45d4ed3d53af461e98c4b5fe3">CacheableString::create</a>(value);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    write(csPtr-&gt;<a class="code" href="a00501.html#af0814debe686a4a0c6dbfd7499bc3228">typeId</a>());</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    csPtr-&gt;<a class="code" href="a00501.html#a84a96393515815967c1fb68087c9b725">toData</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="a00589.html#a63e5a987da8976a1ceb98efc2a61437c">  357</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a63e5a987da8976a1ceb98efc2a61437c">writeASCIIHuge</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, uint32_t length = 0) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> (value != NULL) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keywordflow">if</span> (length == 0) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        length = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(strlen(value));</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      writeInt(length);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      writeBytesOnly((int8_t*)value, length);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      writeInt(static_cast&lt;uint32_t&gt;(0));</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="a00589.html#acc1df137307e4a6cfaf83cfc7a99144b">  379</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#acc1df137307e4a6cfaf83cfc7a99144b">writeFullUTF</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, uint32_t length = 0) {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">if</span> (value != NULL) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      int32_t encodedLen = getEncodedLength(value, length);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      writeInt(encodedLen);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      ensureCapacity(encodedLen);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      write(static_cast&lt;int8_t&gt;(0));  <span class="comment">// isObject = 0 BYTE_CODE</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      uint8_t* end = m_buf + encodedLen;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">while</span> (m_buf &lt; end) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        encodeChar(*value++);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordflow">if</span> (m_buf &gt; end) m_buf = end;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      writeInt(static_cast&lt;uint16_t&gt;(0));</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="a00589.html#acd2ba74a3a772836f03c00c6fec3636f">  406</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#acd2ba74a3a772836f03c00c6fec3636f">writeUTF</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, uint32_t length = 0) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (value != NULL) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      int32_t len = getEncodedLength(value, length);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      uint16_t encodedLen = <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(len &gt; 0xFFFF ? 0xFFFF : len);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      writeInt(encodedLen);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      ensureCapacity(encodedLen);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      uint8_t* end = m_buf + encodedLen;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">while</span> (m_buf &lt; end) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        encodeChar(*value++);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">if</span> (m_buf &gt; end) m_buf = end;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      writeInt(static_cast&lt;uint16_t&gt;(0));</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="a00589.html#a4684c6797e30a28e2563ca9dfb639368">  434</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a4684c6797e30a28e2563ca9dfb639368">writeUTFHuge</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, uint32_t length = 0) {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">if</span> (value != NULL) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">if</span> (length == 0) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        length = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(strlen(value));</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      writeInt(length);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      ensureCapacity(length * 2);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">for</span> (uint32_t pos = 0; pos &lt; length; pos++) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        writeNoCheck(static_cast&lt;int8_t&gt;(0));</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        writeNoCheck(static_cast&lt;int8_t&gt;(value[pos]));</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      writeInt(static_cast&lt;uint32_t&gt;(0));</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="a00589.html#afca17e319b377ec0343069ab4b8193fc">  461</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#afca17e319b377ec0343069ab4b8193fc">writeUTF</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span>* value, uint32_t length = 0) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">if</span> (value != NULL) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      int32_t len = getEncodedLength(value, length);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      uint16_t encodedLen = <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(len &gt; 0xFFFF ? 0xFFFF : len);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      writeInt(encodedLen);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      ensureCapacity(encodedLen);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      uint8_t* end = m_buf + encodedLen;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keywordflow">while</span> (m_buf &lt; end) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        encodeChar(*value++);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="keywordflow">if</span> (m_buf &gt; end) m_buf = end;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      writeInt(static_cast&lt;uint16_t&gt;(0));</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="a00589.html#a2653305b3dabc71f91ef730f112da091">  487</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#a2653305b3dabc71f91ef730f112da091">writeUTFHuge</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span>* value, uint32_t length = 0) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">if</span> (value != NULL) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <span class="keywordflow">if</span> (length == 0) {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        length = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(wcslen(value));</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      writeInt(length);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      ensureCapacity(length * 2);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">for</span> (uint32_t pos = 0; pos &lt; length; pos++) {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        uint16_t item = <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(value[pos]);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        writeNoCheck(static_cast&lt;uint8_t&gt;((item &amp; 0xFF00) &gt;&gt; 8));</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        writeNoCheck(static_cast&lt;uint8_t&gt;(item &amp; 0xFF));</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      writeInt(static_cast&lt;uint32_t&gt;(0));</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="a00589.html#ac7c6fd0936a2ca8a21c93c6533887a55">  514</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">static</span> int32_t <a class="code" href="a00589.html#ac7c6fd0936a2ca8a21c93c6533887a55">getEncodedLength</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, int32_t length = 0,</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                                         uint32_t* valLength = NULL) {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">if</span> (value == NULL) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordtype">char</span> currentChar;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    int32_t encodedLen = 0;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* start = value;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> (length == 0) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">while</span> ((currentChar = *value) != <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        getEncodedLength(currentChar, encodedLen);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        value++;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* end = value + length;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">while</span> (value &lt; end) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        currentChar = *value;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        getEncodedLength(currentChar, encodedLen);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        value++;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">if</span> (valLength != NULL) {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      *valLength = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(value - start);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">return</span> encodedLen;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="a00589.html#a8652d99b326c1d9f5cdfedb482495da8">  549</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">static</span> int32_t <a class="code" href="a00589.html#a8652d99b326c1d9f5cdfedb482495da8">getEncodedLength</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span>* value,</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                                         int32_t length = 0,</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                                         uint32_t* valLength = NULL) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">if</span> (value == NULL) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordtype">wchar_t</span> currentChar;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    int32_t encodedLen = 0;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">wchar_t</span>* start = value;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">if</span> (length == 0) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordflow">while</span> ((currentChar = *value) != 0) {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        getEncodedLength(currentChar, encodedLen);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        value++;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">wchar_t</span>* end = value + length;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <span class="keywordflow">while</span> (value &lt; end) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        currentChar = *value;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        getEncodedLength(currentChar, encodedLen);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        value++;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    }</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span> (valLength != NULL) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      *valLength = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(value - start);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">return</span> encodedLen;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> PTR&gt;</div><div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="a00589.html#aead19629e262657d75f62cb0afcce316">  582</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00589.html#aead19629e262657d75f62cb0afcce316">writeObject</a>(<span class="keyword">const</span> <a class="code" href="a01085.html">SharedPtr&lt;PTR&gt;</a>&amp; objptr, <span class="keywordtype">bool</span> isDelta = <span class="keyword">false</span>) {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    writeObjectInternal(objptr.ptr(), isDelta);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  }</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno"><a class="line" href="a00589.html#addb68e9143fa7712156b5bc1048aaba2">  592</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00589.html#addb68e9143fa7712156b5bc1048aaba2">writeObject</a>(<span class="keyword">const</span> <a class="code" href="a01073.html">Serializable</a>* objptr) { writeObjectInternal(objptr); }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="a00589.html#ab13fa790ed34ffe9999a097d35ba0c8a">  598</a></span>&#160;  <span class="keyword">const</span> uint8_t* <a class="code" href="a00589.html#ab13fa790ed34ffe9999a097d35ba0c8a">getCursor</a>() { <span class="keywordflow">return</span> m_buf; }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="a00589.html#a313bcb30034cf7dd86f2b65a572ac359">  605</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00589.html#a313bcb30034cf7dd86f2b65a572ac359">advanceCursor</a>(uint32_t offset) {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    ensureCapacity(offset);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    m_buf += offset;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="a00589.html#a98a361826addfebd23cb0d1b366a9fc7">  615</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00589.html#a98a361826addfebd23cb0d1b366a9fc7">rewindCursor</a>(uint32_t offset) { m_buf -= offset; }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordtype">void</span> updateValueAtPos(uint32_t offset, uint8_t value) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    m_bytes[offset] = value;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  uint8_t getValueAtPos(uint32_t offset) { <span class="keywordflow">return</span> m_bytes[offset]; }</div><div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="a00589.html#a595751096127550dfe3612f7df296474">  623</a></span>&#160;  <a class="code" href="a00589.html#a595751096127550dfe3612f7df296474">~DataOutput</a>() {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    reset();</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    DataOutput::checkinBuffer(m_bytes, m_size);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno"><a class="line" href="a00589.html#a3cc2f8b86e6c1196f0ded4d39698e0a5">  631</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> uint8_t* <a class="code" href="a00589.html#a3cc2f8b86e6c1196f0ded4d39698e0a5">getBuffer</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">// GF_R_ASSERT(!((uint32_t)(m_bytes) % 4));</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">return</span> m_bytes;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  }</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="a00589.html#a3e1065c38e1a2f19f6aa4d56fbdb32ef">  639</a></span>&#160;  <span class="keyword">inline</span> uint32_t <a class="code" href="a00589.html#a3e1065c38e1a2f19f6aa4d56fbdb32ef">getRemainingBufferLength</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment">// GF_R_ASSERT(!((uint32_t)(m_bytes) % 4));</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">return</span> m_size - getBufferLength();</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno"><a class="line" href="a00589.html#a9169d25f01c01ac8c0d6ffbe967f3bc1">  650</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">const</span> uint8_t* <a class="code" href="a00589.html#a9169d25f01c01ac8c0d6ffbe967f3bc1">getBuffer</a>(uint32_t* rsize)<span class="keyword"> const </span>{</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    *rsize = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(m_buf - m_bytes);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="comment">// GF_R_ASSERT(!((uint32_t)(m_bytes) % 4));</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">return</span> m_bytes;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  }</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keyword">inline</span> uint8_t* getBufferCopy() {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    uint32_t size = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(m_buf - m_bytes);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    uint8_t* result;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="a00119.html#a99e90d25e2896512359dd41658748582">GF_ALLOC</a>(result, uint8_t, size);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    std::memcpy(result, m_bytes, size);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  }</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno"><a class="line" href="a00589.html#ad0ca7494180af0046504c28ec7dbb9bd">  668</a></span>&#160;  <span class="keyword">inline</span> uint32_t <a class="code" href="a00589.html#ad0ca7494180af0046504c28ec7dbb9bd">getBufferLength</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(m_buf - m_bytes);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno"><a class="line" href="a00589.html#ac640f11ac3d107a939a7cc16996d1132">  675</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00589.html#ac640f11ac3d107a939a7cc16996d1132">reset</a>() {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">if</span> (m_haveBigBuffer) {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="comment">// free existing buffer</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      GF_FREE(m_bytes);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="comment">// create smaller buffer</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <a class="code" href="a00119.html#a99e90d25e2896512359dd41658748582">GF_ALLOC</a>(m_bytes, uint8_t, m_lowWaterMark);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      m_size = m_lowWaterMark;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="comment">// reset the flag</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      m_haveBigBuffer = <span class="keyword">false</span>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="comment">// release the lock</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      releaseLock();</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    m_buf = m_bytes;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="comment">// make sure there is room left for the requested size item.</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> ensureCapacity(uint32_t size) {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    uint32_t offset = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(m_buf - m_bytes);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span> ((m_size - offset) &lt; size) {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      uint32_t newSize = m_size * 2 + (8192 * (size / 8192));</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="keywordflow">if</span> (newSize &gt;= m_highWaterMark &amp;&amp; !m_haveBigBuffer) {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="comment">// acquire the lock</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        acquireLock();</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="comment">// set flag</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        m_haveBigBuffer = <span class="keyword">true</span>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      m_size = newSize;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <a class="code" href="a00119.html#a7d375957751b0eb9005fcd08114af57c">GF_RESIZE</a>(m_bytes, uint8_t, m_size);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      m_buf = m_bytes + offset;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    }</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  }</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">  * This is for internal use</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* getPoolName() { <span class="keywordflow">return</span> m_poolName; }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment">   * This is for internal use</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordtype">void</span> setPoolName(<span class="keyword">const</span> <span class="keywordtype">char</span>* poolName) { m_poolName = poolName; }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  uint8_t* getBufferCopyFrom(<span class="keyword">const</span> uint8_t* from, uint32_t length) {</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    uint8_t* result;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="a00152.html#a72f3ef9b4b8f7abcfbc7d1a1c49b42ee">GF_NEW</a>(result, uint8_t[length]);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    std::memcpy(result, from, length);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  }</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> safeDelete(uint8_t* src) { <a class="code" href="a00152.html#aff7da38f10a81062833dfa49d041295a">GF_SAFE_DELETE</a>(src); }</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keyword">static</span> DataOutput* getDataOutput() { <span class="keywordflow">return</span> <span class="keyword">new</span> DataOutput(); }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> releaseDataOutput(DataOutput* dataOutput) {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="a00152.html#aff7da38f10a81062833dfa49d041295a">GF_SAFE_DELETE</a>(dataOutput);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  }</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="keywordtype">void</span> writeObjectInternal(<span class="keyword">const</span> Serializable* ptr, <span class="keywordtype">bool</span> isDelta = <span class="keyword">false</span>);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> acquireLock();</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> releaseLock();</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* m_poolName;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="comment">// memory m_buffer to encode to.</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  uint8_t* m_bytes;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="comment">// cursor.</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  uint8_t* m_buf;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="comment">// size of m_bytes.</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  uint32_t m_size;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="comment">// high and low water marks for buffer size</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keyword">static</span> uint32_t m_lowWaterMark;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keyword">static</span> uint32_t m_highWaterMark;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="comment">// flag to indicate we have a big buffer</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keyword">volatile</span> <span class="keywordtype">bool</span> m_haveBigBuffer;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">void</span> getEncodedLength(<span class="keyword">const</span> <span class="keywordtype">char</span> val, int32_t&amp; encodedLen) {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> ((val == 0) || (val &amp; 0x80)) {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="comment">// two byte.</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      encodedLen += 2;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="comment">// one byte.</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      encodedLen++;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  }</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">void</span> getEncodedLength(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> val, int32_t&amp; encodedLen) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span> (val == 0) {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      encodedLen += 2;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (val &lt; 0x80)  <span class="comment">// ASCII character</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      encodedLen++;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (val &lt; 0x800) {</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      encodedLen += 2;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      encodedLen += 3;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    }</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  }</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> encodeChar(<span class="keyword">const</span> <span class="keywordtype">char</span> value) {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    uint8_t tmp = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(value);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> ((tmp == 0) || (tmp &amp; 0x80)) {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="comment">// two byte.</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(0xc0 | ((tmp &amp; 0xc0) &gt;&gt; 6));</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(0x80 | (tmp &amp; 0x3f));</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="comment">// one byte.</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      *(m_buf++) = tmp;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// this will lose the character set encoding.</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> encodeChar(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> value) {</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    uint16_t c = <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(value);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">if</span> (c == 0) {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      *(m_buf++) = 0xc0;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      *(m_buf++) = 0x80;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c &lt; 0x80) {  <span class="comment">// ASCII character</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(c);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c &lt; 0x800) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(0xC0 | c &gt;&gt; 6);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(0x80 | (c &amp; 0x3F));</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(0xE0 | c &gt;&gt; 12);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(0x80 | ((c &gt;&gt; 6) &amp; 0x3F));</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      *(m_buf++) = static_cast&lt;uint8_t&gt;(0x80 | (c &amp; 0x3F));</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    }</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> writeNoCheck(uint8_t value) { *(m_buf++) = value; }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> writeNoCheck(int8_t value) {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    writeNoCheck(static_cast&lt;uint8_t&gt;(value));</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  }</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keyword">static</span> uint8_t* checkoutBuffer(uint32_t* size);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> checkinBuffer(uint8_t* buffer, uint32_t size);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="comment">// disable copy constructor and assignment</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  DataOutput(<span class="keyword">const</span> DataOutput&amp;);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  DataOutput&amp; operator=(<span class="keyword">const</span> DataOutput&amp;);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;};</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;}  <span class="comment">// namespace client</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;}  <span class="comment">// namespace geode</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}  <span class="comment">// namespace apache</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="preprocessor">#endif  // GEODE_DATAOUTPUT_H_</span></div><div class="ttc" id="a00589_html_a2b283a6645b10786ad31d49b3c4e7575"><div class="ttname"><a href="a00589.html#a2b283a6645b10786ad31d49b3c4e7575">apache::geode::client::DataOutput::writeChar</a></div><div class="ttdeci">void writeChar(uint16_t value)</div><div class="ttdoc">Write a 16-bit Char (wchar_t) value to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:182</div></div>
<div class="ttc" id="a00589_html_a63e5a987da8976a1ceb98efc2a61437c"><div class="ttname"><a href="a00589.html#a63e5a987da8976a1ceb98efc2a61437c">apache::geode::client::DataOutput::writeASCIIHuge</a></div><div class="ttdeci">void writeASCIIHuge(const char *value, uint32_t length=0)</div><div class="ttdoc">Writes the given ASCII string supporting upto maximum 32-bit integer value. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:357</div></div>
<div class="ttc" id="a00589_html_ac8322019f5260c9b28f7c373c3e54cbd"><div class="ttname"><a href="a00589.html#ac8322019f5260c9b28f7c373c3e54cbd">apache::geode::client::DataOutput::writeInt</a></div><div class="ttdeci">void writeInt(int32_t value)</div><div class="ttdoc">Write a 32-bit signed integer value to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:250</div></div>
<div class="ttc" id="a01085_html"><div class="ttname"><a href="a01085.html">apache::geode::client::SharedPtr&lt; CacheableString &gt;</a></div></div>
<div class="ttc" id="a01073_html"><div class="ttname"><a href="a01073.html">apache::geode::client::Serializable</a></div><div class="ttdoc">This abstract base class is the superclass of all user objects in the cache that can be serialized...</div><div class="ttdef"><b>Definition:</b> Serializable.hpp:53</div></div>
<div class="ttc" id="a00152_html_aff7da38f10a81062833dfa49d041295a"><div class="ttname"><a href="a00152.html#aff7da38f10a81062833dfa49d041295a">GF_SAFE_DELETE</a></div><div class="ttdeci">#define GF_SAFE_DELETE(x)</div><div class="ttdoc">Deletes x only if it exists. </div><div class="ttdef"><b>Definition:</b> geode_base.hpp:304</div></div>
<div class="ttc" id="a00589_html_a9169d25f01c01ac8c0d6ffbe967f3bc1"><div class="ttname"><a href="a00589.html#a9169d25f01c01ac8c0d6ffbe967f3bc1">apache::geode::client::DataOutput::getBuffer</a></div><div class="ttdeci">const uint8_t * getBuffer(uint32_t *rsize) const</div><div class="ttdoc">Get a pointer to the internal buffer of DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:650</div></div>
<div class="ttc" id="a00330_html"><div class="ttname"><a href="a00330.html">apache</a></div><div class="ttdoc">Each enum represents a predefined RegionAttributes in a Cache. </div><div class="ttdef"><b>Definition:</b> Assert.hpp:31</div></div>
<div class="ttc" id="a00589_html_a92779f7b388b020878a3616cdcc8896d"><div class="ttname"><a href="a00589.html#a92779f7b388b020878a3616cdcc8896d">apache::geode::client::DataOutput::writeBytes</a></div><div class="ttdeci">void writeBytes(const uint8_t *bytes, int32_t len)</div><div class="ttdoc">Write an array of unsigned bytes to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:111</div></div>
<div class="ttc" id="a00589_html_acc1df137307e4a6cfaf83cfc7a99144b"><div class="ttname"><a href="a00589.html#acc1df137307e4a6cfaf83cfc7a99144b">apache::geode::client::DataOutput::writeFullUTF</a></div><div class="ttdeci">void writeFullUTF(const char *value, uint32_t length=0)</div><div class="ttdoc">Writes the given given string using java modified UTF-8 encoding supporting maximum encoded length of...</div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:379</div></div>
<div class="ttc" id="a00589_html_a8652d99b326c1d9f5cdfedb482495da8"><div class="ttname"><a href="a00589.html#a8652d99b326c1d9f5cdfedb482495da8">apache::geode::client::DataOutput::getEncodedLength</a></div><div class="ttdeci">static int32_t getEncodedLength(const wchar_t *value, int32_t length=0, uint32_t *valLength=NULL)</div><div class="ttdoc">Get the length required to represent a given wide-character string in java modified UTF-8 format...</div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:549</div></div>
<div class="ttc" id="a00589_html_ad394efcb48c1a358a58e5741d914d58d"><div class="ttname"><a href="a00589.html#ad394efcb48c1a358a58e5741d914d58d">apache::geode::client::DataOutput::writeBoolean</a></div><div class="ttdeci">void writeBoolean(bool value)</div><div class="ttdoc">Write a boolean value to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:103</div></div>
<div class="ttc" id="a00589_html_a2653305b3dabc71f91ef730f112da091"><div class="ttname"><a href="a00589.html#a2653305b3dabc71f91ef730f112da091">apache::geode::client::DataOutput::writeUTFHuge</a></div><div class="ttdeci">void writeUTFHuge(const wchar_t *value, uint32_t length=0)</div><div class="ttdoc">Writes the given string using java modified UTF-8 encoding. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:487</div></div>
<div class="ttc" id="a00589_html_acd2ba74a3a772836f03c00c6fec3636f"><div class="ttname"><a href="a00589.html#acd2ba74a3a772836f03c00c6fec3636f">apache::geode::client::DataOutput::writeUTF</a></div><div class="ttdeci">void writeUTF(const char *value, uint32_t length=0)</div><div class="ttdoc">Writes the given given string using java modified UTF-8 encoding supporting maximum encoded length of...</div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:406</div></div>
<div class="ttc" id="a00589_html_ae19b124b45697f2e1c9c5e1ad5f1526e"><div class="ttname"><a href="a00589.html#ae19b124b45697f2e1c9c5e1ad5f1526e">apache::geode::client::DataOutput::writeBytesOnly</a></div><div class="ttdeci">void writeBytesOnly(const uint8_t *bytes, uint32_t len)</div><div class="ttdoc">Write an array of unsigned bytes without its length to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:145</div></div>
<div class="ttc" id="a00589_html_ab584bfb66bc14fddfffb4282a2eafb9b"><div class="ttname"><a href="a00589.html#ab584bfb66bc14fddfffb4282a2eafb9b">apache::geode::client::DataOutput::write</a></div><div class="ttdeci">void write(uint8_t value)</div><div class="ttdoc">Write an unsigned byte to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:86</div></div>
<div class="ttc" id="a00152_html_a199cc6e3460196b4bc961d7984b38fa8"><div class="ttname"><a href="a00152.html#a199cc6e3460196b4bc961d7984b38fa8">CPPCACHE_EXPORT</a></div><div class="ttdeci">#define CPPCACHE_EXPORT</div><div class="ttdoc">Defines a Geode CPPCACHE export. </div><div class="ttdef"><b>Definition:</b> geode_base.hpp:58</div></div>
<div class="ttc" id="a00589_html_ab047ab124cc5cb294c1caa6dfd86ff9c"><div class="ttname"><a href="a00589.html#ab047ab124cc5cb294c1caa6dfd86ff9c">apache::geode::client::DataOutput::writeASCII</a></div><div class="ttdeci">void writeASCII(const char *value, uint32_t length=0)</div><div class="ttdoc">Writes the given ASCII string supporting maximum length of 64K (i.e. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:324</div></div>
<div class="ttc" id="a00589_html_a313bcb30034cf7dd86f2b65a572ac359"><div class="ttname"><a href="a00589.html#a313bcb30034cf7dd86f2b65a572ac359">apache::geode::client::DataOutput::advanceCursor</a></div><div class="ttdeci">void advanceCursor(uint32_t offset)</div><div class="ttdoc">Advance the buffer cursor by the given offset. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:605</div></div>
<div class="ttc" id="a00589_html_a276d2915b4b5ed859f6dfa7a8632db77"><div class="ttname"><a href="a00589.html#a276d2915b4b5ed859f6dfa7a8632db77">apache::geode::client::DataOutput::writeInt</a></div><div class="ttdeci">void writeInt(int16_t value)</div><div class="ttdoc">Write a 16-bit signed integer value to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:241</div></div>
<div class="ttc" id="a00589_html_a3e1065c38e1a2f19f6aa4d56fbdb32ef"><div class="ttname"><a href="a00589.html#a3e1065c38e1a2f19f6aa4d56fbdb32ef">apache::geode::client::DataOutput::getRemainingBufferLength</a></div><div class="ttdeci">uint32_t getRemainingBufferLength() const</div><div class="ttdoc">Get a pointer to the internal buffer of DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:639</div></div>
<div class="ttc" id="a00589_html_a545bafa6899d72fc9c08b99fd0c33896"><div class="ttname"><a href="a00589.html#a545bafa6899d72fc9c08b99fd0c33896">apache::geode::client::DataOutput::write</a></div><div class="ttdeci">void write(int8_t value)</div><div class="ttdoc">Write a signed byte to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:96</div></div>
<div class="ttc" id="a00589_html_ab13fa790ed34ffe9999a097d35ba0c8a"><div class="ttname"><a href="a00589.html#ab13fa790ed34ffe9999a097d35ba0c8a">apache::geode::client::DataOutput::getCursor</a></div><div class="ttdeci">const uint8_t * getCursor()</div><div class="ttdoc">Get an internal pointer to the current location in the DataOutput byte array. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:598</div></div>
<div class="ttc" id="a00589_html_afca17e319b377ec0343069ab4b8193fc"><div class="ttname"><a href="a00589.html#afca17e319b377ec0343069ab4b8193fc">apache::geode::client::DataOutput::writeUTF</a></div><div class="ttdeci">void writeUTF(const wchar_t *value, uint32_t length=0)</div><div class="ttdoc">Writes the given given string using java modified UTF-8 encoding supporting maximum encoded length of...</div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:461</div></div>
<div class="ttc" id="a00589_html_a62d535a34e37cee85404250ac4f8b514"><div class="ttname"><a href="a00589.html#a62d535a34e37cee85404250ac4f8b514">apache::geode::client::DataOutput::writeBytes</a></div><div class="ttdeci">void writeBytes(const int8_t *bytes, int32_t len)</div><div class="ttdoc">Write an array of signed bytes to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:130</div></div>
<div class="ttc" id="a00589_html_ac640f11ac3d107a939a7cc16996d1132"><div class="ttname"><a href="a00589.html#ac640f11ac3d107a939a7cc16996d1132">apache::geode::client::DataOutput::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Reset the internal cursor to the start of the buffer. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:675</div></div>
<div class="ttc" id="a00589_html_a3cc2f8b86e6c1196f0ded4d39698e0a5"><div class="ttname"><a href="a00589.html#a3cc2f8b86e6c1196f0ded4d39698e0a5">apache::geode::client::DataOutput::getBuffer</a></div><div class="ttdeci">const uint8_t * getBuffer() const</div><div class="ttdoc">Get a pointer to the internal buffer of DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:631</div></div>
<div class="ttc" id="a00589_html_a4684c6797e30a28e2563ca9dfb639368"><div class="ttname"><a href="a00589.html#a4684c6797e30a28e2563ca9dfb639368">apache::geode::client::DataOutput::writeUTFHuge</a></div><div class="ttdeci">void writeUTFHuge(const char *value, uint32_t length=0)</div><div class="ttdoc">Writes the given string using java modified UTF-8 encoding. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:434</div></div>
<div class="ttc" id="a00589_html_a595751096127550dfe3612f7df296474"><div class="ttname"><a href="a00589.html#a595751096127550dfe3612f7df296474">apache::geode::client::DataOutput::~DataOutput</a></div><div class="ttdeci">~DataOutput()</div><div class="ttdoc">Destruct a DataOutput, including releasing the created buffer. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:623</div></div>
<div class="ttc" id="a00589_html_a7f5e95a11c0fe3078fe9d0ba158ee894"><div class="ttname"><a href="a00589.html#a7f5e95a11c0fe3078fe9d0ba158ee894">apache::geode::client::DataOutput::writeInt</a></div><div class="ttdeci">void writeInt(uint16_t value)</div><div class="ttdoc">Write a 16-bit unsigned integer value to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:171</div></div>
<div class="ttc" id="a00334_html"><div class="ttname"><a href="a00334.html">geode</a></div><div class="ttdoc">This namespace contains all the Geode C++ API classes, enumerations and globals. </div></div>
<div class="ttc" id="a00119_html_a99e90d25e2896512359dd41658748582"><div class="ttname"><a href="a00119.html#a99e90d25e2896512359dd41658748582">GF_ALLOC</a></div><div class="ttdeci">#define GF_ALLOC(v, t, s)</div><div class="ttdoc">C style memory allocation that throws OutOfMemoryException if it fails. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:45</div></div>
<div class="ttc" id="a00119_html_a7d375957751b0eb9005fcd08114af57c"><div class="ttname"><a href="a00119.html#a7d375957751b0eb9005fcd08114af57c">GF_RESIZE</a></div><div class="ttdeci">#define GF_RESIZE(v, t, s)</div><div class="ttdoc">C style memory re-allocation that throws OutOfMemoryException if it fails. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:58</div></div>
<div class="ttc" id="a00501_html_af8526df45d4ed3d53af461e98c4b5fe3"><div class="ttname"><a href="a00501.html#af8526df45d4ed3d53af461e98c4b5fe3">apache::geode::client::CacheableString::create</a></div><div class="ttdeci">static CacheableStringPtr create(const char *value, int32_t len=0)</div><div class="ttdoc">Factory method for creating an instance of CacheableString from a null terminated C string optionally...</div><div class="ttdef"><b>Definition:</b> CacheableString.hpp:113</div></div>
<div class="ttc" id="a00152_html_a72f3ef9b4b8f7abcfbc7d1a1c49b42ee"><div class="ttname"><a href="a00152.html#a72f3ef9b4b8f7abcfbc7d1a1c49b42ee">GF_NEW</a></div><div class="ttdeci">#define GF_NEW(v, stmt)</div><div class="ttdoc">Allocates x and throws OutOfMemoryException if it fails. </div><div class="ttdef"><b>Definition:</b> geode_base.hpp:293</div></div>
<div class="ttc" id="a00137_html"><div class="ttname"><a href="a00137.html">ExceptionTypes.hpp</a></div></div>
<div class="ttc" id="a00589_html_a2113ce6df05cb6c2949876faccce96dc"><div class="ttname"><a href="a00589.html#a2113ce6df05cb6c2949876faccce96dc">apache::geode::client::DataOutput::writeBytesOnly</a></div><div class="ttdeci">void writeBytesOnly(const int8_t *bytes, uint32_t len)</div><div class="ttdoc">Write an array of signed bytes without its length to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:162</div></div>
<div class="ttc" id="a00589_html_addb68e9143fa7712156b5bc1048aaba2"><div class="ttname"><a href="a00589.html#addb68e9143fa7712156b5bc1048aaba2">apache::geode::client::DataOutput::writeObject</a></div><div class="ttdeci">void writeObject(const Serializable *objptr)</div><div class="ttdoc">Write a Serializable object to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:592</div></div>
<div class="ttc" id="a00272_html"><div class="ttname"><a href="a00272.html">Serializable.hpp</a></div></div>
<div class="ttc" id="a00589_html_a3959bca668435c2f33eb870df34e4132"><div class="ttname"><a href="a00589.html#a3959bca668435c2f33eb870df34e4132">apache::geode::client::DataOutput::writeFloat</a></div><div class="ttdeci">void writeFloat(float value)</div><div class="ttdoc">Write a float value to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:289</div></div>
<div class="ttc" id="a00501_html_af0814debe686a4a0c6dbfd7499bc3228"><div class="ttname"><a href="a00501.html#af0814debe686a4a0c6dbfd7499bc3228">apache::geode::client::CacheableString::typeId</a></div><div class="ttdeci">virtual int8_t typeId() const</div><div class="ttdoc">Return the typeId byte of the instance being serialized. </div></div>
<div class="ttc" id="a00589_html_a98a361826addfebd23cb0d1b366a9fc7"><div class="ttname"><a href="a00589.html#a98a361826addfebd23cb0d1b366a9fc7">apache::geode::client::DataOutput::rewindCursor</a></div><div class="ttdeci">void rewindCursor(uint32_t offset)</div><div class="ttdoc">Rewind the buffer cursor by the given offset. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:615</div></div>
<div class="ttc" id="a00589_html_a2b8d781f1558bf7395367e97bfd98cf0"><div class="ttname"><a href="a00589.html#a2b8d781f1558bf7395367e97bfd98cf0">apache::geode::client::DataOutput::writeDouble</a></div><div class="ttdeci">void writeDouble(double value)</div><div class="ttdoc">Write a double precision real number to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:303</div></div>
<div class="ttc" id="a00589_html"><div class="ttname"><a href="a00589.html">apache::geode::client::DataOutput</a></div><div class="ttdoc">Provide operations for writing primitive data values, byte arrays, strings, Serializable objects to a...</div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:74</div></div>
<div class="ttc" id="a00501_html_a84a96393515815967c1fb68087c9b725"><div class="ttname"><a href="a00501.html#a84a96393515815967c1fb68087c9b725">apache::geode::client::CacheableString::toData</a></div><div class="ttdeci">virtual void toData(DataOutput &amp;output) const</div><div class="ttdoc">serialize this object </div></div>
<div class="ttc" id="a00053_html"><div class="ttname"><a href="a00053.html">CacheableString.hpp</a></div></div>
<div class="ttc" id="a00589_html_aead19629e262657d75f62cb0afcce316"><div class="ttname"><a href="a00589.html#aead19629e262657d75f62cb0afcce316">apache::geode::client::DataOutput::writeObject</a></div><div class="ttdeci">void writeObject(const SharedPtr&lt; PTR &gt; &amp;objptr, bool isDelta=false)</div><div class="ttdoc">Write a Serializable object to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:582</div></div>
<div class="ttc" id="a00589_html_a74d7360f33e3187d9582cb199099b84f"><div class="ttname"><a href="a00589.html#a74d7360f33e3187d9582cb199099b84f">apache::geode::client::DataOutput::writeArrayLen</a></div><div class="ttdeci">void writeArrayLen(int32_t len)</div><div class="ttdoc">Write a 32-bit signed integer array length value to the DataOutput in a manner compatible with java s...</div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:270</div></div>
<div class="ttc" id="a00589_html_ab313f27382acec8e32d07b5d56aee3c4"><div class="ttname"><a href="a00589.html#ab313f27382acec8e32d07b5d56aee3c4">apache::geode::client::DataOutput::writeInt</a></div><div class="ttdeci">void writeInt(uint32_t value)</div><div class="ttdoc">Write a 32-bit unsigned integer value to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:193</div></div>
<div class="ttc" id="a00589_html_ad41c4a2ecad093aa06aead762105bc53"><div class="ttname"><a href="a00589.html#ad41c4a2ecad093aa06aead762105bc53">apache::geode::client::DataOutput::writeInt</a></div><div class="ttdeci">void writeInt(int64_t value)</div><div class="ttdoc">Write a 64-bit signed integer value to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:259</div></div>
<div class="ttc" id="a00589_html_ac7c6fd0936a2ca8a21c93c6533887a55"><div class="ttname"><a href="a00589.html#ac7c6fd0936a2ca8a21c93c6533887a55">apache::geode::client::DataOutput::getEncodedLength</a></div><div class="ttdeci">static int32_t getEncodedLength(const char *value, int32_t length=0, uint32_t *valLength=NULL)</div><div class="ttdoc">Get the length required to represent a given wide-character string in java modified UTF-8 format...</div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:514</div></div>
<div class="ttc" id="a00185_html"><div class="ttname"><a href="a00185.html">Log.hpp</a></div></div>
<div class="ttc" id="a00589_html_ad0ca7494180af0046504c28ec7dbb9bd"><div class="ttname"><a href="a00589.html#ad0ca7494180af0046504c28ec7dbb9bd">apache::geode::client::DataOutput::getBufferLength</a></div><div class="ttdeci">uint32_t getBufferLength() const</div><div class="ttdoc">Get the length of current data in the internal buffer of DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:668</div></div>
<div class="ttc" id="a00589_html_a12f4df4f3cd0dfef9773c97890e4203e"><div class="ttname"><a href="a00589.html#a12f4df4f3cd0dfef9773c97890e4203e">apache::geode::client::DataOutput::writeInt</a></div><div class="ttdeci">void writeInt(uint64_t value)</div><div class="ttdoc">Write a 64-bit unsigned integer value to the DataOutput. </div><div class="ttdef"><b>Definition:</b> DataOutput.hpp:206</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at
     http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<HR><address style="align: right;"><small>Pivotal GemFire C++ Cache API Documentation</small></address>
