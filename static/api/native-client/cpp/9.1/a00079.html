<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Pivotal Gemfire Native C++ Reference: apache::geode::client::InternalCacheTransactionManager2PC Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pivotal Gemfire Native C++ Reference
   &#160;<span id="projectnumber">9.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00079.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">apache::geode::client::InternalCacheTransactionManager2PC Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Extension of the apache::geode::client::CacheTransactionManager that enables client application to use Geode transaction as part of the global XA transaction.  
 <a href="a00079.html#details">More...</a></p>

<p>Inherits apache::geode::client::CacheTransactionManager.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0981149d55ba268e0599daa32cb373fa"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>begin</b> ()=0</td></tr>
<tr class="memdesc:a0981149d55ba268e0599daa32cb373fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new transaction and associates it with the current thread.  <a href="#a0981149d55ba268e0599daa32cb373fa">More...</a><br /></td></tr>
<tr class="separator:a0981149d55ba268e0599daa32cb373fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf655e511f2fae3bdc6746e2cfa941aa"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>commit</b> ()=0</td></tr>
<tr class="memdesc:abf655e511f2fae3bdc6746e2cfa941aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit the transaction associated with the current thread.  <a href="#abf655e511f2fae3bdc6746e2cfa941aa">More...</a><br /></td></tr>
<tr class="separator:abf655e511f2fae3bdc6746e2cfa941aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd1ba7667cbdc4d60433e154c2ddd3db"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>exists</b> (<a class="el" href="a00114.html">TransactionIdPtr</a> transactionId)=0</td></tr>
<tr class="memdesc:afd1ba7667cbdc4d60433e154c2ddd3db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports the existence of a transaction for the given transactionId.  <a href="#afd1ba7667cbdc4d60433e154c2ddd3db">More...</a><br /></td></tr>
<tr class="separator:afd1ba7667cbdc4d60433e154c2ddd3db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5fec7a72fd3778176bc110d3e05f86e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>exists</b> ()=0</td></tr>
<tr class="memdesc:aa5fec7a72fd3778176bc110d3e05f86e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports the existence of a Transaction for this thread.  <a href="#aa5fec7a72fd3778176bc110d3e05f86e">More...</a><br /></td></tr>
<tr class="separator:aa5fec7a72fd3778176bc110d3e05f86e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e3696b368a9e5e63c8abaa86f42c57"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="a00114.html">TransactionIdPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getTransactionId</b> ()=0</td></tr>
<tr class="memdesc:a22e3696b368a9e5e63c8abaa86f42c57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the transaction identifier for the current thread.  <a href="#a22e3696b368a9e5e63c8abaa86f42c57">More...</a><br /></td></tr>
<tr class="separator:a22e3696b368a9e5e63c8abaa86f42c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd222b8c27f789d6e9810a2d3189bc13"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>isSuspended</b> (<a class="el" href="a00114.html">TransactionIdPtr</a> transactionId)=0</td></tr>
<tr class="memdesc:afd222b8c27f789d6e9810a2d3189bc13"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method can be used to determine if a transaction with the given transaction identifier is currently suspended locally.  <a href="#afd222b8c27f789d6e9810a2d3189bc13">More...</a><br /></td></tr>
<tr class="separator:afd222b8c27f789d6e9810a2d3189bc13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e94ff2df317f43ff688433a748e6979"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html#a1e94ff2df317f43ff688433a748e6979">prepare</a> ()=0</td></tr>
<tr class="memdesc:a1e94ff2df317f43ff688433a748e6979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs prepare during 2 phase commit completion.  <a href="#a1e94ff2df317f43ff688433a748e6979">More...</a><br /></td></tr>
<tr class="separator:a1e94ff2df317f43ff688433a748e6979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af249217cc7b6a6cacadbf8cc4d50f405"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00113.html#af249217cc7b6a6cacadbf8cc4d50f405">preserveSB</a> () const </td></tr>
<tr class="memdesc:af249217cc7b6a6cacadbf8cc4d50f405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically increment reference count.  <a href="#af249217cc7b6a6cacadbf8cc4d50f405">More...</a><br /></td></tr>
<tr class="separator:af249217cc7b6a6cacadbf8cc4d50f405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0d4f6e99f11b6df13f46383aedd2fd8"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00113.html#af0d4f6e99f11b6df13f46383aedd2fd8">refCount</a> ()</td></tr>
<tr class="separator:af0d4f6e99f11b6df13f46383aedd2fd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4542c508cd9b6e87e231a8d8342860"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00113.html#a2f4542c508cd9b6e87e231a8d8342860">releaseSB</a> () const </td></tr>
<tr class="memdesc:a2f4542c508cd9b6e87e231a8d8342860"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically decrement reference count, the <a class="el" href="a00113.html" title="This abstract base class is the base class of all user objects that have the shared capability of ref...">SharedBase</a> object is automatically deleted when its reference count goes to zero.  <a href="#a2f4542c508cd9b6e87e231a8d8342860">More...</a><br /></td></tr>
<tr class="separator:a2f4542c508cd9b6e87e231a8d8342860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7a76aa7dac166fc019a25968582249c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>resume</b> (<a class="el" href="a00114.html">TransactionIdPtr</a> transactionId)=0</td></tr>
<tr class="memdesc:ae7a76aa7dac166fc019a25968582249c"><td class="mdescLeft">&#160;</td><td class="mdescRight">On the current thread, resumes a transaction that was previously suspended using <a class="el" href="">suspend()</a>.  <a href="#ae7a76aa7dac166fc019a25968582249c">More...</a><br /></td></tr>
<tr class="separator:ae7a76aa7dac166fc019a25968582249c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af52d5c2e1b776ecabde5f3d60f474a49"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>rollback</b> ()=0</td></tr>
<tr class="memdesc:af52d5c2e1b776ecabde5f3d60f474a49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Roll back the transaction associated with the current thread.  <a href="#af52d5c2e1b776ecabde5f3d60f474a49">More...</a><br /></td></tr>
<tr class="separator:af52d5c2e1b776ecabde5f3d60f474a49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb2e05991e633603fbbc10de18b0fa4c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="a00114.html">TransactionIdPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><b>suspend</b> ()=0</td></tr>
<tr class="memdesc:aeb2e05991e633603fbbc10de18b0fa4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspends the transaction on the current thread.  <a href="#aeb2e05991e633603fbbc10de18b0fa4c">More...</a><br /></td></tr>
<tr class="separator:aeb2e05991e633603fbbc10de18b0fa4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27c9c9a74b9b88711ba13dc4e75a4593"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>tryResume</b> (<a class="el" href="a00114.html">TransactionIdPtr</a> transactionId)=0</td></tr>
<tr class="memdesc:a27c9c9a74b9b88711ba13dc4e75a4593"><td class="mdescLeft">&#160;</td><td class="mdescRight">On the current thread, resumes a transaction that was previously suspended using <a class="el" href="">suspend()</a>.  <a href="#a27c9c9a74b9b88711ba13dc4e75a4593">More...</a><br /></td></tr>
<tr class="separator:a27c9c9a74b9b88711ba13dc4e75a4593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ead94449203341ed803dd5be7e8a77"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>tryResume</b> (<a class="el" href="a00114.html">TransactionIdPtr</a> transactionId, int32_t waitTimeInMilliSec)=0</td></tr>
<tr class="memdesc:a69ead94449203341ed803dd5be7e8a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">On the current thread, resumes a transaction that was previously suspended using <a class="el" href="">suspend()</a>, or waits for the specified timeout interval if the transaction has not been suspended.  <a href="#a69ead94449203341ed803dd5be7e8a77">More...</a><br /></td></tr>
<tr class="separator:a69ead94449203341ed803dd5be7e8a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Extension of the apache::geode::client::CacheTransactionManager that enables client application to use Geode transaction as part of the global XA transaction. </p>
<p>The prepare method of this class corresponds to the prepare phases of the 2 phase commit protocol driven by a global transaction manager.</p>
<p>The implementation of the apache::geode::client::CacheTransactionManager commit() and rollback() methods must be 2 phase commit process aware.</p>
<p>Methods of this class are expected to be called by a custom XA Resource Manager that is wrapping and adapting Geode client to XA specification requirements.</p>
<dl class="section since"><dt>Since</dt><dd>8.3 </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0981149d55ba268e0599daa32cb373fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void apache::geode::client::CacheTransactionManager::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new transaction and associates it with the current thread. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IllegalStateException</td><td>if the thread is already associated with a transaction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>3.6 </dd></dl>

</div>
</div>
<a class="anchor" id="abf655e511f2fae3bdc6746e2cfa941aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void apache::geode::client::CacheTransactionManager::commit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Commit the transaction associated with the current thread. </p>
<p>If the commit operation fails due to a conflict it will destroy the transaction state and throw a <a class="el" href="">CommitConflictException</a>. If the commit operation succeeds, it returns after the transaction state has been merged with committed state. When this method completes, the thread is no longer associated with a transaction.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IllegalStateException</td><td>if the thread is not associated with a transaction</td></tr>
    <tr><td class="paramname">CommitConflictException</td><td>if the commit operation fails due to a write conflict.</td></tr>
    <tr><td class="paramname">TransactionDataNodeHasDepartedException</td><td>if the node hosting the transaction data has departed. This is only relevant for transaction that involve PartitionedRegions.</td></tr>
    <tr><td class="paramname">TransactionDataNotColocatedException</td><td>if at commit time, the data involved in the transaction has moved away from the transaction hosting node. This can only happen if rebalancing/recovery happens during a transaction that involves a PartitionedRegion.</td></tr>
    <tr><td class="paramname">TransactionInDoubtException</td><td>when Geode cannot tell which nodes have applied the transaction and which have not. This only occurs if nodes fail mid-commit, and only then in very rare circumstances. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afd1ba7667cbdc4d60433e154c2ddd3db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool apache::geode::client::CacheTransactionManager::exists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00114.html">TransactionIdPtr</a>&#160;</td>
          <td class="paramname"><em>transactionId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reports the existence of a transaction for the given transactionId. </p>
<p>This method can be used to determine if a transaction with the given transaction identifier is currently in progress locally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactionId</td><td>the given transaction identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the transaction is in progress, false otherwise. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.6.2 </dd></dl>
<dl class="section see"><dt>See also</dt><dd>#isSuspended(TransactionId) </dd></dl>

</div>
</div>
<a class="anchor" id="aa5fec7a72fd3778176bc110d3e05f86e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool apache::geode::client::CacheTransactionManager::exists </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reports the existence of a Transaction for this thread. </p>
<dl class="section return"><dt>Returns</dt><dd>true if a transaction exists, false otherwise</dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.6 </dd></dl>

</div>
</div>
<a class="anchor" id="a22e3696b368a9e5e63c8abaa86f42c57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="a00114.html">TransactionIdPtr</a> apache::geode::client::CacheTransactionManager::getTransactionId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the transaction identifier for the current thread. </p>
<dl class="section return"><dt>Returns</dt><dd>the transaction identifier or null if no transaction exists</dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.6.2 </dd></dl>

</div>
</div>
<a class="anchor" id="afd222b8c27f789d6e9810a2d3189bc13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool apache::geode::client::CacheTransactionManager::isSuspended </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00114.html">TransactionIdPtr</a>&#160;</td>
          <td class="paramname"><em>transactionId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method can be used to determine if a transaction with the given transaction identifier is currently suspended locally. </p>
<p>This method does not check other members for transaction status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactionId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the transaction is in suspended state, false otherwise </dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.6.2 </dd></dl>
<dl class="section see"><dt>See also</dt><dd>#exists(TransactionId) </dd></dl>

</div>
</div>
<a class="anchor" id="a1e94ff2df317f43ff688433a748e6979"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void apache::geode::client::InternalCacheTransactionManager2PC::prepare </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs prepare during 2 phase commit completion. </p>
<p>Locks of the entries modified in the current transaction on the server side.</p>
<p>Calls to subsequent commit() or rollback() methods overridden by this class are expected to succeed after <a class="el" href="a00079.html#a1e94ff2df317f43ff688433a748e6979" title="Performs prepare during 2 phase commit completion. ">prepare()</a> has returned successfully. Geode commits internal transaction irreversibly on commit() call. </p>

</div>
</div>
<a class="anchor" id="af249217cc7b6a6cacadbf8cc4d50f405"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void apache::geode::client::SharedBase::preserveSB </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomically increment reference count. </p>

</div>
</div>
<a class="anchor" id="af0d4f6e99f11b6df13f46383aedd2fd8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t apache::geode::client::SharedBase::refCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the reference count </dd></dl>

</div>
</div>
<a class="anchor" id="a2f4542c508cd9b6e87e231a8d8342860"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void apache::geode::client::SharedBase::releaseSB </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Atomically decrement reference count, the <a class="el" href="a00113.html" title="This abstract base class is the base class of all user objects that have the shared capability of ref...">SharedBase</a> object is automatically deleted when its reference count goes to zero. </p>

</div>
</div>
<a class="anchor" id="ae7a76aa7dac166fc019a25968582249c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void apache::geode::client::CacheTransactionManager::resume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00114.html">TransactionIdPtr</a>&#160;</td>
          <td class="paramname"><em>transactionId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>On the current thread, resumes a transaction that was previously suspended using <a class="el" href="">suspend()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactionId</td><td>the transaction to resume </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IllegalStateException</td><td>if the thread is associated with a transaction or if <a class="el" href="">isSuspended(TransactionId)</a> would return false for the given transactionId </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>3.6.2 </dd></dl>

</div>
</div>
<a class="anchor" id="af52d5c2e1b776ecabde5f3d60f474a49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void apache::geode::client::CacheTransactionManager::rollback </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Roll back the transaction associated with the current thread. </p>
<p>When this method completes, the thread is no longer associated with a transaction and the transaction context is destroyed.</p>
<dl class="section since"><dt>Since</dt><dd>3.6</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IllegalStateException</td><td>if the thread is not associated with a transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeb2e05991e633603fbbc10de18b0fa4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="a00114.html">TransactionIdPtr</a> apache::geode::client::CacheTransactionManager::suspend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Suspends the transaction on the current thread. </p>
<p>All subsequent operations performed by this thread will be non-transactional. The suspended transaction can be resumed by calling <a class="el" href="">resume(TransactionId)</a></p>
<dl class="section return"><dt>Returns</dt><dd>the transaction identifier of the suspended transaction or null if the thread was not associated with a transaction </dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.6.2 </dd></dl>

</div>
</div>
<a class="anchor" id="a27c9c9a74b9b88711ba13dc4e75a4593"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool apache::geode::client::CacheTransactionManager::tryResume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00114.html">TransactionIdPtr</a>&#160;</td>
          <td class="paramname"><em>transactionId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>On the current thread, resumes a transaction that was previously suspended using <a class="el" href="">suspend()</a>. </p>
<p>This method is equivalent to </p><pre>
if (isSuspended(txId)) {
  resume(txId);
}
</pre><p> except that this action is performed atomically</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactionId</td><td>the transaction to resume </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the transaction was resumed, false otherwise </dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.6.2 </dd></dl>

</div>
</div>
<a class="anchor" id="a69ead94449203341ed803dd5be7e8a77"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool apache::geode::client::CacheTransactionManager::tryResume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00114.html">TransactionIdPtr</a>&#160;</td>
          <td class="paramname"><em>transactionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>waitTimeInMilliSec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>On the current thread, resumes a transaction that was previously suspended using <a class="el" href="">suspend()</a>, or waits for the specified timeout interval if the transaction has not been suspended. </p>
<p>This method will return if: </p><ul>
<li>
Another thread suspends the transaction </li>
<li>
Another thread calls commit/rollback on the transaction </li>
<li>
This thread has waited for the specified timeout </li>
</ul>
<p>This method returns immediately if <a class="el" href="">exists(TransactionId)</a> returns false.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactionId</td><td>the transaction to resume </td></tr>
    <tr><td class="paramname">waitTimeInMilliSec</td><td>the maximum milliseconds to wait </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the transaction was resumed, false otherwise </dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.6.2 </dd></dl>
<dl class="section see"><dt>See also</dt><dd>#tryResume(TransactionId) </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at
     http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<HR><address style="align: right;"><small>Pivotal GemFire C++ Cache API Documentation</small></address>
