{{ define "main" }}
<h1 class='d-none'>{{ .Title }} Homepage</h1>

<a id="td-block" class="td-offset-anchor"></a>
<section id="hero" class="td-box td-box--primary position-relative td-box--height-auto overflow-hidden">
	<div class="container row py-5 px-0">
		<div class="col-12 mx-auto col-lg-6">
			<span class="h1 mb-0 ">
				{{ .Params.tagline }}
			</span>
            <p class="h4">{{ .Params.description }}</p>
		</div>
        <div id="gradients" class="col-12 mx-auto col-lg-6 position-relative d-none d-md-block">
            <img id="gradient-one" class="transition-all position-absolute" alt="" src='{{ "images/backgrounds/gradient-one.svg" | relURL }}'>
            <img id="gradient-two" class="transition-all position-absolute" alt="" src='{{ "images/backgrounds/gradient-two.svg" | relURL }}'>
		</div>
	</div>
</section>

<!-- Quick Start -->
<section id="home-quickstart" class="pt-2 pb-2 td-box">
    <div class="w-75 mx-sm-auto">
        <div class="row w-100 m-0">
            <div class="col-sm-12 pt-4 pb-0 mb-lg-5 mb-3">
                <a class="h2 text-left">Quick Start</a>
            </div>
        </div>
        <div id="quickstart-row-outer" class="row td-box td-box--gradient td-box--height-auto pt-0 pb-4 justify-content-center position-relative transition-all m-0">
            <div class="col-xl-12 w-100">
                <div id="the-quickstart-row" class="row justify-content-between justify-content-center w-100 td-box blogs-row">
                {{ $quickstarts := where .Site.Pages "Section" "quickstart" }}
                {{ range first 5 $quickstarts }}
                    <div class="text-center">
                        <a href="{{ .RelPermalink }}" class="h-100 d-flex flex-column justify-content-center align-items-center py-4 py-lg-5 px-3 quickstart-card">
                            <img alt="{{ .Params.title }}" class="mb-2" src='{{ printf "%s%s%s" "images/icons/icon-" .Params.icon ".svg" | relURL }}' height="100" width="100">
                        </a>
                    </div>
                {{ end }}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Gather topic groups -->
{{ $topicgroups := (slice) }}
    {{ range (.Site.GetPage "taxonomyTerm" "topicgroups").Pages }}
    {{ $topicgroups = union $topicgroups ( slice .Title )}}
{{ end }}

<!-- Tutorials -->
<section id="home-tutorials" class="pt-2 pb-2 td-box">
    <div class="w-75 mx-sm-auto">
        <div class="row w-100 m-0">
            <div class="col-sm-12 pt-4 pb-0 mb-lg-5 mb-3">
                <a href="{{ "tutorials" | relURL }}" class="h2 text-left">Tutorials</a>
            </div>
        </div>
        <div id="tutorials-row-outer" class="row td-box td-box--gradient td-box--height-auto pt-0 pb-4 justify-content-center position-relative transition-all m-0">
            {{ range first 1 $topicgroups }}
            <div class="row justify-content-center transition-all w-100">
                <div class="col-xl-12 mb-xl-0 mb-lg-4 mb-2">
                    <div id="{{ lower (replace . " " "-")}}-row" class="row justify-content-between w-100 td-box tutorials-row">
                        {{ range first 3 (where (($.Site.GetPage "taxonomyTerm" "tutorials").Pages) ".Params.topicgroups" .) }}
                            <div class="td-box--gray-850 flex-315 mb-lg-0 mb-3">
                                <a href="{{ .RelPermalink }}" class="h-100 d-flex flex-column justify-content-center align-items-center py-4 py-lg-5 px-3">
                                    <img alt="" class="mb-2" src='{{ printf "%s%s%s" "images/icons/icon-" .Params.icon ".svg" | relURL }}' height="50" width="50">
                                    <h3 class="h4 pt-0 link mt-3 text-white text-center mb-0">
                                        {{ .Params.title | truncate 70 }}
                                    </h3>
                                    <p class="mb-2 mb-lg-4 text-left py-0 px-2" >
                                        {{ .Description | truncate 70 }}
                                    </p>
                                </a>
                            </div>
                        {{ end }}
                    </div>
                </div>
            </div>
            {{ end }}
        </div>
    </div>
</section>

{{ $blogs := (slice) }}
{{ range (.Site.GetPage "taxonomyTerm" "blog").Pages }}
    {{ $blogs = union $blogs ( slice . )}}
{{ end }}
{{ $blogs := sort $blogs ".Params.lastmod" }}

<!-- Blogs -->
<section id="home-blogs" class="pt-2 pb-2 td-box">
    <div class="w-75 mx-sm-auto">
        <div class="row w-100 m-0">
            <div class="col-sm-12 pt-4 pb-0 mb-lg-5 mb-3 w-100">
                <a href="{{ "blog" | relURL }}" class="h2 text-left">Blogs</a>
            </div>
        </div>
        <div id="blogs-row-outer" class="row td-box td-box--gradient td-box--height-auto pt-0 pb-4 justify-content-center position-relative transition-all m-0">
            <div class="col-xl-12 w-100">
                <div id="the-blogs-row" class="row justify-content-between justify-content-center w-100 td-box blogs-row">
                    {{ range first 3 $blogs }}
                        <div class="topic-card flex-315 td-box td-box--gray-dark mb-lg-0 mb-3">
                            <a href="{{ .RelPermalink }}" class="h-100 d-flex flex-column justify-content-center align-items-center py-4 py-lg-5 px-3">
                                <h3 class="h4 pt-0 link mt-3 text-center text-white mb-0">
                                    {{ .Params.title | truncate 70 }}
                                </h3>
                                <p class="mb-2 mb-lg-4 text-left py-0 px-2" >
                                    {{ .Description | truncate 70 }}
                                </p>
                            </a>
                        </div>
                    {{ end }}
                </div>
            </div>
        </div>
    </div>
</section>

{{ $videos := (slice) }}
{{ range (.Site.GetPage "taxonomyTerm" "videos").Pages }}
{{ $videos = union $videos ( slice . )}}
{{ end }}

{{ $videos := sort $videos ".Params.lastmod" }}

<!-- Videos -->
<section id="home-videos" class="pt-4 pb-2 td-box">
    <div class="w-75 mx-sm-auto">
    <div class="row w-100 m-0">
        <div class="col-sm-12 pt-4 pb-0 mb-lg-5 mb-3">
            <a href="{{ "videos" | relURL }}" class="h2 text-left">Videos</a>
        </div>
    </div>
    <div id="videoss-row-outer" class="row td-box td-box--gradient td-box--height-auto pt-0 pb-4 justify-content-center position-relative transition-all m-0">
            <div class="col-xl-12 mb-xl-0 mb-lg-4 mb-2">
                <div id="the-videos-row" class="row justify-content-between justify-content-center w-100 td-box videos-row m-0">
                    {{ range first 3 $videos }}
                    <div class="topic-card flex-315 td-box--gray-850 mb-lg-0 mb-3">
                        <a href="{{ .RelPermalink }}" class="h-100 d-flex flex-column justify-content-center align-items-center py-4 py-lg-5 px-3">
                            <h3 class="h4 pt-0 link mt-3 text-center text-white mb-0">
                                {{ .Params.title | truncate 70 }}
                            </h3>
                            <p class="mb-2 mb-lg-4 text-left py-0 px-2" >
                                {{ .Description | truncate 70 }}
                            </p>
                        </a>
                    </div>
                    {{ end }}
                </div>
            </div>
    </div>
    </div>
</section>

{{ $examples := (slice) }}
{{ range (.Site.GetPage "taxonomyTerm" "examples").Pages }}
    {{ $examples = union $examples ( slice . )}}
{{ end }}

{{ $examples := sort $examples ".Params.lastmod" }}

<!-- Examples -->
<section id="home-examples" class="pt-2 pb-2 td-box">
    <div class="w-75 mx-sm-auto">
        <div class="row w-100 m-0">
            <div class="col-sm-12 pt-4 pb-0 mb-lg-5 mb-3">
                <a href="{{ "examples" | relURL }}" class="h2 text-left">Examples</a>
            </div>
        </div>
        <div id="examples-row-outer" class="row td-box td-box--gradient justify-content-center td-box--height-auto pt-0 position-relative transition-all m-0">
            <div class="col-xl-12 mb-xl-0 mb-lg-4 mb-2">
                <div id="the-examples-row" class="row justify-content-between justify-content-center w-100 td-box examples-row m-0">
                    {{ range first 3 $examples }}
                    <div class="topic-card flex-315 td-box--gray-dark mb-lg-0 mb-3">
                        <a href="{{ .RelPermalink }}" class="h-100 d-flex flex-column justify-content-center align-items-center py-4 py-lg-5 px-3">
                            <h3 class="h4 pt-0 link mt-3 text-center text-white mb-0">
                                {{ .Params.title | truncate 70 }}
                            </h3>
                            <p class="mb-2 mb-lg-4 text-left py-0 px-2" >
                                {{ .Description | truncate 70 }}
                            </p>
                        </a>
                    </div>
                    {{ end }}
                </div>
            </div>
        </div>
    </div>
</section>

<script>sendAmplitudeEventOnLoad('home viewed', {'url path': window.location.pathname});</script>

{{ with .Content }}
{{ . }}
{{ end }}
{{ end }}